<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è–èª•å¤§äº‚é¬¥ - Christmas Party Battle</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* 3D Flip Effects */
        .perspective-1000 { perspective: 1000px; }
        .preserve-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        
        /* Custom Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .animate-float { animation: float 3s ease-in-out infinite; }
        
        /* Card Hover Effect */
        .card-container:hover { transform: scale(1.05); }
        .card-played { filter: grayscale(100%); opacity: 0.5; pointer-events: none; }
    </style>
</head>
<body class="bg-slate-900 text-white font-sans selection:bg-red-500 selection:text-white min-h-screen overflow-x-hidden">

    <!-- Background Effects -->
    <div class="fixed inset-0 pointer-events-none z-0">
        <div class="absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-800 via-slate-900 to-black"></div>
        <div class="absolute top-10 left-10 w-72 h-72 bg-red-600/20 rounded-full blur-[100px]"></div>
        <div class="absolute bottom-10 right-10 w-96 h-96 bg-green-600/10 rounded-full blur-[100px]"></div>
        <!-- Snow Effect Overlay -->
        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/snow.png')] opacity-20 animate-pulse"></div>
    </div>

    <!-- MAIN APP CONTAINER -->
    <div id="app" class="relative z-10 w-full min-h-screen">
        
        <!-- BOARD VIEW -->
        <div id="board-view" class="max-w-7xl mx-auto px-4 py-8 transition-opacity duration-500">
            <header class="text-center mb-12">
                <div class="inline-flex items-center justify-center gap-3 mb-4">
                    <i class="fa-solid fa-dice text-red-500 text-4xl animate-bounce"></i>
                    <h1 class="text-4xl md:text-6xl font-black tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-yellow-400 to-green-500 drop-shadow-sm">
                        è–èª•å¤§äº‚é¬¥
                    </h1>
                    <i class="fa-solid fa-dice text-green-500 text-4xl animate-bounce" style="animation-delay: 0.1s;"></i>
                </div>
                <p class="text-slate-400 text-lg max-w-2xl mx-auto">
                    30 å€‹éš±è—éŠæˆ²ï¼Œé»æ“Šç¦®ç‰©ç›’ç¿»ç‰Œï¼Œæ±ºå®šä½ å€‘çš„å‘½é‹ PKï¼
                </p>
                <div class="mt-6 flex items-center justify-center gap-4 text-sm font-bold text-slate-500">
                    <span id="played-count">å·²ç©éŠæˆ²ï¼š0 / 0</span>
                    <button onclick="resetAll()" class="text-red-400 hover:text-red-300 underline underline-offset-4 flex items-center gap-1">
                        <i class="fa-solid fa-rotate-right"></i> é‡ç½®æ‰€æœ‰
                    </button>
                </div>
            </header>

            <!-- Cards Grid -->
            <div id="cards-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6">
                <!-- Cards will be injected here by JS -->
            </div>
            
            <footer class="mt-16 text-center text-slate-600 text-sm">
                <p>Â© 2024 Christmas Class Party Game Set. Designed for Fun!</p>
            </footer>
        </div>

        <!-- BATTLE VIEW -->
        <div id="battle-view" class="hidden fixed inset-0 z-50 flex flex-col transition-colors duration-500 overflow-hidden bg-slate-900">
            <!-- Background Snow in Battle -->
            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/snow.png')] opacity-20 animate-pulse pointer-events-none"></div>

            <!-- Header -->
            <div class="relative z-10 p-4 flex justify-between items-center bg-black/10 backdrop-blur-sm">
                <button onclick="backToBoard()" class="flex items-center gap-2 bg-white text-gray-800 px-4 py-2 rounded-full font-bold hover:bg-gray-100 transition-transform hover:scale-105 shadow-lg">
                    <i class="fa-solid fa-arrow-left"></i> è¿”å›é¸é¡Œç‰†
                </button>
                <div id="battle-header-title" class="text-white font-bold text-xl drop-shadow-md hidden md:block">
                    <!-- Category :: Title -->
                </div>
                <div class="w-24"></div>
            </div>

            <!-- Content Area -->
            <div class="flex-1 flex flex-col items-center justify-center p-4 md:p-8 relative z-10 w-full overflow-y-auto">
                
                <!-- Icon -->
                <div class="mb-6 bg-white/20 p-4 rounded-full backdrop-blur-md shadow-xl animate-bounce">
                    <i id="battle-icon" class="fa-solid fa-gamepad text-4xl text-white"></i>
                </div>

                <!-- Question Container -->
                <div id="question-container" class="w-full max-w-4xl relative mb-8 min-h-[300px] flex items-center justify-center">
                    <!-- Dynamic Content Goes Here -->
                </div>

                <!-- Answer Display -->
                <div id="answer-display" class="hidden w-full max-w-4xl bg-yellow-400 text-yellow-900 p-4 rounded-xl text-center font-bold text-2xl shadow-xl transform animate-bounce z-20 border-4 border-yellow-200 mb-8">
                    <!-- Answer Text -->
                </div>

                <!-- Controls -->
                <div class="w-full max-w-4xl flex flex-col md:flex-row gap-6 items-center justify-center pb-8">
                    
                    <!-- Timer -->
                    <div class="flex flex-col items-center bg-black/30 p-3 rounded-2xl backdrop-blur-sm border border-white/20 w-40 shadow-lg">
                        <div id="timer-display" class="text-3xl font-mono text-white font-bold">00:00</div>
                        <div class="flex gap-2 mt-1">
                            <button id="timer-toggle-btn" onclick="toggleTimer()" class="px-3 py-1 rounded text-sm font-bold shadow bg-green-500 text-white">é–‹å§‹</button>
                            <button onclick="resetTimer()" class="px-3 py-1 rounded text-sm font-bold bg-gray-500 text-white shadow">é‡ç½®</button>
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="toggleAnswer()" class="flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-white px-6 py-4 rounded-2xl font-bold transition-all border-b-4 border-yellow-700 active:border-b-0 active:translate-y-1 shadow-lg">
                            <i class="fa-solid fa-eye"></i> <span id="answer-btn-text">çœ‹ç­”æ¡ˆ</span>
                        </button>
                        <button onclick="pickRandomQuestion()" class="flex items-center gap-2 bg-white text-blue-600 hover:bg-blue-50 px-6 py-4 rounded-2xl font-bold transition-all border-b-4 border-blue-200 active:border-b-0 active:translate-y-1 shadow-lg">
                            <i class="fa-solid fa-rotate"></i> æ›ä¸€é¡Œ
                        </button>
                    </div>
                </div>

            </div>
            
            <!-- Footer decoration -->
            <div id="battle-footer" class="h-8 bg-black/20 w-full flex items-center justify-center text-white/50 text-xs backdrop-blur-sm">
                <!-- Description -->
            </div>
        </div>

    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA ---
        // ä¿®æ­£å¾Œçš„åœ–ç¤ºå°ç…§ (å°‡ React Icon è½‰ç‚º FontAwesome Class)
        const ICONS_MAP = {
            'Grid': 'fa-table',
            'RefreshCw': 'fa-rotate',
            'Activity': 'fa-heart-pulse',
            'Zap': 'fa-bolt',
            'Eye': 'fa-eye',
            'Timer': 'fa-stopwatch',
            'AlertTriangle': 'fa-triangle-exclamation',
            'Calculator': 'fa-calculator',
            'Clock': 'fa-clock',
            'PenTool': 'fa-pen-nib',
            'List': 'fa-list-ol',
            'Beaker': 'fa-flask',
            'Cpu': 'fa-microchip',
            'Smile': 'fa-face-smile',
            'Trophy': 'fa-trophy',
            'Ghost': 'fa-ghost'
        };

        const CATEGORY_COLORS = {
            Funny: 'bg-yellow-400 text-yellow-900 border-yellow-600',
            Adrenaline: 'bg-red-500 text-white border-red-700',
            Interactive: 'bg-blue-400 text-white border-blue-600',
            Tech: 'bg-purple-500 text-white border-purple-700',
            Luck: 'bg-green-500 text-white border-green-700'
        };

        const CATEGORY_NAMES = {
            Funny: 'å…¨ç­ç¬‘ç¿»',
            Adrenaline: 'è…ä¸Šè…ºç´ ',
            Interactive: 'å…¨ç­äº’å‹•',
            Tech: 'ç§‘æŠ€æ–°å¥‡',
            Luck: 'é‹æ°£ç›´è¦º'
        };

        // å®Œæ•´é¡Œç›®è³‡æ–™ (å·²å°‡æ‚¨æä¾›çš„ç‰‡æ®µè£œå…¨ç‚ºå®Œæ•´çš„ JS Array)
        const RAW_GAMES_DATA = [
            // --- ç¬¬äºŒé¡ï¼šè…ä¸Šè…ºç´ é£†å‡ (æ¯”åæ‡‰) ---
            {
                id: 'adr_new_1',
                category: 'Adrenaline',
                title: 'å…ƒç´ é€±æœŸè¡¨ç«¶é€Ÿ',
                desc: 'è½åˆ°å…ƒç´ ï¼Œé¦¬ä¸ŠæŒ‡å‡ºåœ¨å“ªè£¡ï¼',
                icon: 'Grid',
                type: 'image-find',
                contentPool: [
                    { q: 'è«‹æŒ‡å‡ºã€Œé‰€ (K)ã€', imgText: '[é€±æœŸè¡¨]', a: 'ç¬¬ 4 é€±æœŸï¼Œç¬¬ 1 æ— (å·¦é‚Š)' },
                    { q: 'è«‹æŒ‡å‡ºã€Œé‡‘ (Au)ã€', imgText: '[é€±æœŸè¡¨]', a: 'ç¬¬ 6 é€±æœŸï¼Œç¬¬ 11 æ— (ä¸­é–“åå³ä¸‹)' },
                    { q: 'è«‹æŒ‡å‡ºã€Œæ°§ (O)ã€', imgText: '[é€±æœŸè¡¨]', a: 'ç¬¬ 2 é€±æœŸï¼Œç¬¬ 16 æ— (å³ä¸Šæ–¹)' },
                    { q: 'è«‹æŒ‡å‡ºã€Œéµ (Fe)ã€', imgText: '[é€±æœŸè¡¨]', a: 'ç¬¬ 4 é€±æœŸï¼Œç¬¬ 8 æ— (ä¸­é–“)' },
                    { q: 'è«‹æŒ‡å‡ºã€Œæ°¦ (He)ã€', imgText: '[é€±æœŸè¡¨]', a: 'æœ€å³ä¸Šè§’ (ç¬¬ 1 é€±æœŸï¼Œç¬¬ 18 æ—)' },
                    { q: 'è«‹æŒ‡å‡ºã€Œéˆ‰ (Na)ã€', imgText: '[é€±æœŸè¡¨]', a: 'ç¬¬ 3 é€±æœŸï¼Œç¬¬ 1 æ— (å·¦é‚Š)' },
                    { q: 'è«‹æŒ‡å‡ºã€Œéˆ£ (Ca)ã€', imgText: '[é€±æœŸè¡¨]', a: 'ç¬¬ 4 é€±æœŸï¼Œç¬¬ 2 æ— (å·¦é‚Š)' },
                    { q: 'è«‹æŒ‡å‡ºã€Œç¢³ (C)ã€', imgText: '[é€±æœŸè¡¨]', a: 'ç¬¬ 2 é€±æœŸï¼Œç¬¬ 14 æ— (å³ä¸Šæ–¹)' },
                    { q: 'è«‹æŒ‡å‡ºã€ŒéŠ€ (Ag)ã€', imgText: '[é€±æœŸè¡¨]', a: 'ç¬¬ 5 é€±æœŸï¼Œç¬¬ 11 æ— (ä¸­é–“)' },
                    { q: 'è«‹æŒ‡å‡ºã€Œéˆ¾ (U)ã€', imgText: '[é€±æœŸè¡¨]', a: 'æœ€ä¸‹æ–¹çš„éŒ’ç³»å…ƒç´  (92è™Ÿ)' }
                ]
            },
            {
                id: 'adr_new_2',
                category: 'Adrenaline',
                title: 'ä¸­è‹±ç¿»è­¯ (é€²éšç‰ˆ)',
                desc: 'çœ‹åˆ°å–®å­—ï¼Œé¦¬ä¸Šèªªå‡ºå°æ‡‰ä¸­æ–‡ï¼',
                icon: 'RefreshCw',
                type: 'text',
                contentPool: [
                    { q: 'Vulnerable', a: 'è„†å¼±çš„ / æ˜“å—å‚·çš„' },
                    { q: 'Procrastinate', a: 'æ‹–å»¶' },
                    { q: 'Ambiguous', a: 'æ¨¡ç¨œå…©å¯çš„ / æ›–æ˜§çš„' },
                    { q: 'Hypocritical', a: 'å½å–„çš„' },
                    { q: 'Simultaneously', a: 'åŒæ™‚åœ°' },
                    { q: 'Deteriorate', a: 'æƒ¡åŒ–' },
                    { q: 'Enthusiastic', a: 'ç†±æƒ…çš„' },
                    { q: 'Inevitable', a: 'ä¸å¯é¿å…çš„' },
                    { q: 'Consequence', a: 'å¾Œæœ' },
                    { q: 'Metaphor', a: 'éš±å–» / æš—å–»' }
                ]
            },
            {
                id: 'adr_new_3',
                category: 'Adrenaline',
                title: 'ç”Ÿç‰©å™¨å®˜æŒ‡èª',
                desc: 'çœ‹åˆ°äººé«”æ¨¡å‹ï¼Œå¿«é€ŸæŒ‡å‡ºå™¨å®˜ï¼',
                icon: 'Activity',
                type: 'image-find-organ',
                contentPool: [
                    { q: 'è«‹æŒ‡å‡ºã€Œè†½å›Šã€', imgText: '[äººé«”æ¨¡å‹]', a: 'è‚è‡Ÿä¸‹æ–¹ï¼Œç¶ è‰²å°å›Š' },
                    { q: 'è«‹æŒ‡å‡ºã€Œèƒ°è‡Ÿã€', imgText: '[äººé«”æ¨¡å‹]', a: 'èƒƒçš„å¾Œæ–¹ï¼Œé»ƒè‰²é•·æ¢' },
                    { q: 'è«‹æŒ‡å‡ºã€Œé—Œå°¾ã€', imgText: '[äººé«”æ¨¡å‹]', a: 'å¤§è…¸èµ·å§‹ç«¯ï¼Œå³ä¸‹è…¹' },
                    { q: 'è«‹æŒ‡å‡ºã€Œç”²ç‹€è…ºã€', imgText: '[äººé«”æ¨¡å‹]', a: 'è„–å­å‰æ–¹ï¼Œè´è¶ç‹€' },
                    { q: 'è«‹æŒ‡å‡ºã€Œæ©«è†ˆè†œã€', imgText: '[äººé«”æ¨¡å‹]', a: 'èƒ¸è…”èˆ‡è…¹è…”ä¹‹é–“' },
                    { q: 'è«‹æŒ‡å‡ºã€Œè…è‡Ÿã€', imgText: '[äººé«”æ¨¡å‹]', a: 'å¾Œè…°éƒ¨å…©å´' },
                    { q: 'è«‹æŒ‡å‡ºã€Œè„¾è‡Ÿã€', imgText: '[äººé«”æ¨¡å‹]', a: 'èƒƒçš„å·¦ä¸Šæ–¹' },
                    { q: 'è«‹æŒ‡å‡ºã€ŒåäºŒæŒ‡è…¸ã€', imgText: '[äººé«”æ¨¡å‹]', a: 'é€£æ¥èƒƒå’Œå°è…¸çš„Cå‹æ®µ' },
                    { q: 'è«‹æŒ‡å‡ºã€Œè†€èƒ±ã€', imgText: '[äººé«”æ¨¡å‹]', a: 'éª¨ç›†è…”å…§ï¼Œå„²å­˜å°¿æ¶²' },
                    { q: 'è«‹æŒ‡å‡ºã€Œæ°£ç®¡ã€', imgText: '[äººé«”æ¨¡å‹]', a: 'é€£æ¥å–‰åš¨åˆ°è‚º' }
                ]
            },
            {
                id: 'adr_1',
                category: 'Adrenaline',
                title: 'ç›¸åæŒ‡ä»¤',
                desc: 'æˆ‘èªªå‘å·¦ï¼Œä½ è¦å‘å³ï¼',
                icon: 'Zap',
                type: 'text',
                contentPool: [
                    { q: 'æŒ‡ä»¤ï¼šè«‹ å‘å·¦çœ‹', a: 'æ­£ç¢ºå‹•ä½œï¼šå‘å³çœ‹' },
                    { q: 'æŒ‡ä»¤ï¼šè«‹ èˆ‰å³æ‰‹', a: 'æ­£ç¢ºå‹•ä½œï¼šèˆ‰å·¦æ‰‹' },
                    { q: 'æŒ‡ä»¤ï¼šè«‹ åä¸‹', a: 'æ­£ç¢ºå‹•ä½œï¼šç«™èµ·ä¾†' },
                    { q: 'æŒ‡ä»¤ï¼šè«‹ é»é ­', a: 'æ­£ç¢ºå‹•ä½œï¼šæ–é ­' },
                    { q: 'æŒ‡ä»¤ï¼šè«‹ èªªã€Œæœ‰ã€', a: 'æ­£ç¢ºå‹•ä½œï¼šèªªã€Œæ²’æœ‰ã€' },
                    { q: 'æŒ‡ä»¤ï¼šè«‹ é–‰ä¸Šçœ¼ç›', a: 'æ­£ç¢ºå‹•ä½œï¼šå¼µå¤§çœ¼ç›' },
                    { q: 'æŒ‡ä»¤ï¼šè«‹ å¾€å‰ä¸€æ­¥', a: 'æ­£ç¢ºå‹•ä½œï¼šå¾€å¾Œä¸€æ­¥' },
                    { q: 'æŒ‡ä»¤ï¼šè«‹ è¹²ä¸‹', a: 'æ­£ç¢ºå‹•ä½œï¼šè·³èµ·ä¾†' },
                    { q: 'æŒ‡ä»¤ï¼šè«‹ æ‘¸é ­', a: 'æ­£ç¢ºå‹•ä½œï¼šæ‘¸è…³/ä¸æ‘¸é ­' },
                    { q: 'æŒ‡ä»¤ï¼šè«‹ å¤§ç¬‘', a: 'æ­£ç¢ºå‹•ä½œï¼šå¤§å“­/å®‰éœ' }
                ]
            },
            {
                id: 'adr_4',
                category: 'Adrenaline',
                title: 'å‹•æ…‹è¦–åŠ›',
                desc: 'å‰›å‰›é–ƒéäº†ä»€éº¼æ±è¥¿ï¼Ÿ',
                icon: 'Eye',
                type: 'flash',
                contentPool: [
                    { q: 'é–ƒç¾åœ–ç‰‡ï¼šä¸€éš»ç©¿è‘—è–èª•è£çš„ç‹—', a: 'è–èª•ç‹—' },
                    { q: 'é–ƒç¾æ•¸å­—ï¼š8573', a: '8573' },
                    { q: 'é–ƒç¾æ–‡å­—ï¼šã€Œä»Šå¤©ä¸ç”¨å¯«ä½œæ¥­ã€', a: 'ä»Šå¤©ä¸ç”¨å¯«ä½œæ¥­' },
                    { q: 'é–ƒç¾åœ–ç‰‡ï¼šç­å°å¸«çš„é¬¼è‡‰', a: 'ç­å°å¸«é¬¼è‡‰' },
                    { q: 'é–ƒç¾ç®—å¼ï¼š12 + 15 = ?', a: '27' },
                    { q: 'é–ƒç¾åœ–ç‰‡ï¼šè–èª•è€äººé¨æ©Ÿè»Š', a: 'è–èª•è€äººé¨æ©Ÿè»Š' },
                    { q: 'é–ƒç¾ç‰©å“ï¼šä¸€å€‹æ¼¢å ¡', a: 'æ¼¢å ¡' },
                    { q: 'é–ƒç¾æ–‡å­—ï¼šã€Œé€™æ˜¯é™·é˜±ã€', a: 'é€™æ˜¯é™·é˜±' },
                    { q: 'é–ƒç¾æ•¸å­—ï¼š9999', a: '9999' },
                    { q: 'é–ƒç¾ç®—å¼ï¼š6 x 7 = ?', a: '42' }
                ]
            },
            {
                id: 'adr_5',
                category: 'Adrenaline',
                title: 'å¿ƒç®—ç¥ç«¥',
                desc: 'æ•¸å­¸æ¯”é€Ÿåº¦ï¼Œé¡Œç›®æœ‰é›£åº¦ï¼',
                icon: 'Timer',
                type: 'text',
                contentPool: [
                    { q: '15 x 15 - 25 = ?', a: '200' },
                    { q: '88 + 99 + 11 = ?', a: '198' },
                    { q: '200 çš„ 15% æ˜¯å¤šå°‘ï¼Ÿ', a: '30' },
                    { q: '7 x 8 + 6 x 9 = ?', a: '110' },
                    { q: '1000 æ¸›å» 365 = ?', a: '635' },
                    { q: '120 é™¤ä»¥ 4 å†ä¹˜ä»¥ 3 = ?', a: '90' },
                    { q: '1 + 2 + 3 + ... + 10 = ?', a: '55' },
                    { q: '25 x 4 + 75 x 4 = ?', a: '400' },
                    { q: '(50 - 18) x 2 = ?', a: '64' },
                    { q: '333 + 444 + 555 - 1000 = ?', a: '332' }
                ]
            },
            {
                id: 'adr_6',
                category: 'Adrenaline',
                title: 'æŠ“éŒ¯å­—å¤§å¸«',
                desc: 'é¡Œç›®è¶…é›£ï¼æ‰¾å‡ºè—åœ¨è£¡é¢çš„éŒ¯å­—',
                icon: 'Eye',
                type: 'text',
                contentPool: [
                    { q: 'æˆèªï¼šå†æ¥å†å‹µ', a: 'å‹µ -> å²' },
                    { q: 'æˆèªï¼šæŒ‰æ­¥å°±ç­', a: 'æ­¥ -> éƒ¨' },
                    { q: 'æˆèªï¼šèµ°é ­ç„¡è·¯', a: 'é ­ -> æŠ•' },
                    { q: 'æˆèªï¼šå¿…éœ€å“ vs å¿…é ˆåš', a: 'é€™é¡Œæ²’éŒ¯å­— (é™·é˜±é¡Œ)' },
                    { q: 'è©èªï¼šä¸€ç¢—é­¯è‚‰é£¯', a: 'é­¯ -> æ»·' },
                    { q: 'æˆèªï¼šè«åå¥‡å¦™', a: 'å¥‡ -> å…¶' },
                    { q: 'æˆèªï¼šè¿«ä¸åŠå¾…', a: 'åŠ -> æ€¥' },
                    { q: 'æˆèªï¼šç©¿æµä¸æ¯', a: 'ç©¿ -> å·' },
                    { q: 'æˆèªï¼šèˆˆé«˜å½©çƒˆ', a: 'å½© -> é‡‡' },
                    { q: 'æˆèªï¼šé»˜å®ˆæˆè¦', a: 'é»˜ -> å¢¨' }
                ]
            },

            // --- ç¬¬ä¸‰é¡ï¼šå…¨ç­ä¸€èµ·ç© (äº’å‹•) ---
            {
                id: 'int_new_1',
                category: 'Interactive',
                title: 'çœŸå‡å†·çŸ¥è­˜',
                desc: 'é€™å€‹çŸ¥è­˜æ˜¯çœŸçš„é‚„æ˜¯å‡çš„ï¼Ÿ',
                icon: 'AlertTriangle',
                type: 'true-false',
                contentPool: [
                    { q: 'è±¬ç„¡æ³•çœ‹åˆ°å¤©ç©ºï¼Ÿ', a: ' æ­£ç¢º (å› ç‚ºé ¸æ¤æ§‹é€ )' },
                    { q: 'é•·é ¸é¹¿æ²’æœ‰è²å¸¶ï¼Ÿ', a: ' éŒ¯èª¤ (æœ‰ï¼Œä½†å¾ˆå°‘å«)' },
                    { q: 'é‡‘é­šçš„è¨˜æ†¶åªæœ‰7ç§’ï¼Ÿ', a: ' éŒ¯èª¤ (å¯ä»¥è¨˜å¾ˆä¹…)' },
                    { q: 'äººé¡å’Œé¦™è•‰æœ‰50%çš„DNAç›¸åŒï¼Ÿ', a: ' æ­£ç¢º' },
                    { q: 'é´•é³¥æœƒæŠŠé ­åŸ‹é€²æ²™å­è£¡èº²é¿æ•µäººï¼Ÿ', a: ' éŒ¯èª¤ (ç‰ å€‘æœƒè·‘æˆ–è¸¢)' },
                    { q: 'ç« é­šæœ‰ä¸‰é¡†å¿ƒè‡Ÿï¼Ÿ', a: ' æ­£ç¢º' },
                    { q: 'é–ƒé›»ä¸æœƒæ“Šä¸­åŒä¸€å€‹åœ°æ–¹å…©æ¬¡ï¼Ÿ', a: ' éŒ¯èª¤ (å¸åœ‹å¤§å»ˆæ¯å¹´è¢«æ‰“å¥½å¹¾æ¬¡)' },
                    { q: 'ç‰›æœ‰å››å€‹èƒƒï¼Ÿ', a: ' æ­£ç¢º' },
                    { q: 'å¯æ¨‚æœ€åˆæ˜¯ç¶ è‰²çš„ï¼Ÿ', a: ' éŒ¯èª¤ (ä¸€ç›´éƒ½æ˜¯è¤è‰²)' },
                    { q: 'åœ¨å¤ªç©ºä¸­ä¸èƒ½å“­ï¼Ÿ', a: ' æ­£ç¢º (çœ¼æ·šæµä¸ä¸‹ä¾†)' }
                ]
            },
            {
                id: 'int_1',
                category: 'Interactive',
                title: 'é ­é ‚ç¦å¿Œè©',
                desc: 'äº’ç›¸é™·å®³ï¼å¼•èª˜å°æ–¹èªªå‡ºç¦å¿Œå­—',
                icon: 'AlertTriangle',
                type: 'taboo',
                contentPool: [
                    { q: 'å·¦ï¼šä½  / å³ï¼šæˆ‘', a: 'è«‹å°è©±' },
                    { q: 'å·¦ï¼šå¥½ / å³ï¼šå°', a: 'è«‹å°è©±' },
                    { q: 'å·¦ï¼šé»é ­ / å³ï¼šå¤§ç¬‘', a: 'å¼•èª˜å°æ–¹åšå‹•ä½œ' },
                    { q: 'å·¦ï¼šä¸çŸ¥é“ / å³ï¼šçœŸçš„å‡çš„', a: 'è«‹å°è©±' },
                    { q: 'å·¦ï¼šç”šè‡³ / å³ï¼šç„¶å¾Œ', a: 'è«‹å°è©±' },
                    { q: 'å·¦ï¼šå¯æ˜¯ / å³ï¼šä½†æ˜¯', a: 'è«‹å°è©±' },
                    { q: 'å·¦ï¼šæ–é ­ / å³ï¼šæ‹æ‰‹', a: 'å¼•èª˜å°æ–¹åšå‹•ä½œ' },
                    { q: 'å·¦ï¼šè›¤ / å³ï¼šä»€éº¼', a: 'è«‹å°è©±' },
                    { q: 'å·¦ï¼šè¬è¬ / å³ï¼šä¸å®¢æ°£', a: 'è«‹å°è©±' },
                    { q: 'å·¦ï¼šå»æ‰€ / å³ï¼šå–æ°´', a: 'è«‹å°è©±' }
                ]
            },
            {
                id: 'int_2',
                category: 'Interactive',
                title: 'é–ƒè¦–å€’å”¸',
                desc: 'é¡Œç›®é–ƒç¾ 1 ç§’ï¼Œçœ‹å®Œé¦¬ä¸Šå€’è‘—å”¸ï¼',
                icon: 'RefreshCw',
                type: 'flash',
                contentPool: [
                    { q: 'è–èª•å¿«æ¨‚', a: 'æ¨‚å¿«èª•è–' },
                    { q: 'åƒè‘¡è„ä¸åè‘¡è„çš®', a: 'çš®è„è‘¡åä¸è„è‘¡åƒ' },
                    { q: 'æˆ‘æ˜¯å¤§å¸¥å“¥', a: 'å“¥å¸¥å¤§æ˜¯æˆ‘' },
                    { q: 'æ–°å¹´å¿«æ¨‚', a: 'æ¨‚å¿«å¹´æ–°' },
                    { q: 'å­¸æ ¡ç¦åˆ©ç¤¾', a: 'ç¤¾åˆ©ç¦æ ¡å­¸' },
                    { q: 'è–èª•ç¦®ç‰©', a: 'ç‰©ç¦®èª•è–' },
                    { q: 'æ­å–œç™¼è²¡', a: 'è²¡ç™¼å–œæ­' },
                    { q: 'çç å¥¶èŒ¶å¥½å–', a: 'å–å¥½èŒ¶å¥¶ç ç' },
                    { q: 'æˆ‘æ„›å¯«ä½œæ¥­', a: 'æ¥­ä½œå¯«æ„›æˆ‘' },
                    { q: 'ç­å°å¸«æœ€å¸¥', a: 'å¸¥æœ€å¸«å°ç­' }
                ]
            },
            {
                id: 'int_3',
                category: 'Interactive',
                title: 'å¸¸æ•¸å¤§èƒŒèª¦',
                desc: 'èƒŒå‡ºæ•¸å­¸/ç†åŒ–å¸¸æ•¸ï¼Œè¶Šå¤šä½è¶Šè´ï¼',
                icon: 'Calculator',
                type: 'text',
                contentPool: [
                    { q: 'åœ“å‘¨ç‡ (Ï€)', a: '3.1415926535...' },
                    { q: 'è‡ªç„¶å°æ•¸åº• (e)', a: '2.7182818284...' },
                    { q: 'é»ƒé‡‘æ¯”ä¾‹ (Ï†)', a: '1.6180339887...' },
                    { q: 'æ ¹è™Ÿ 2 (âˆš2)', a: '1.4142135623...' },
                    { q: 'æ ¹è™Ÿ 3 (âˆš3)', a: '1.7320508075...' },
                    { q: 'æ™®æœ—å…‹å¸¸æ•¸ (h)', a: '6.62607015 Ã— 10â»Â³â´' },
                    { q: 'è¬æœ‰å¼•åŠ›å¸¸æ•¸ (G)', a: '6.67430 Ã— 10â»Â¹Â¹' },
                    { q: 'æ³¢èŒ²æ›¼å¸¸æ•¸ (k)', a: '1.380649 Ã— 10â»Â²Â³' },
                    { q: 'é˜¿ä¼ä¼½å¾·ç¾…å¸¸æ•¸ (NA)', a: '6.02214076 Ã— 10Â²Â³' },
                    { q: 'å…‰é€Ÿ (c)', a: '299,792,458 m/s' }
                ]
            },
            {
                id: 'int_4',
                category: 'Interactive',
                title: 'æ¨æ‰‹ç›¸æ’²',
                desc: 'é›™è…³ä¸å‹•äº’æ¨æ‰‹æŒï¼Œç§»å‹•å°±è¼¸ï¼',
                icon: 'Zap',
                type: 'text',
                contentPool: [
                    { q: 'è¦å‰‡ï¼šé›™è…³ç«™å®šï¼Œé›™æ‰‹äº’æ¨ï¼Œè…³ç§»å‹•å°±ç®—è¼¸ï¼', a: 'é–‹å§‹æ¯”è³½' },
                    { q: 'è¦å‰‡ï¼šåªèƒ½ç”¨ã€Œå–®æ‰‹ã€æ”»æ“Šèˆ‡é˜²ç¦¦ï¼', a: 'é–‹å§‹æ¯”è³½' },
                    { q: 'è¦å‰‡ï¼šé›™æ–¹å¿…é ˆã€Œå–®è…³ç«™ç«‹ã€äº’æ¨ï¼', a: 'è½åœ°è€…è¼¸' },
                    { q: 'è¦å‰‡ï¼šä¸å¯ç¸®æ‰‹é–ƒèº²ï¼Œåªèƒ½æ­£é¢å°æ±ºï¼', a: 'ç¡¬ç¢°ç¡¬ç‰ˆ' },
                    { q: 'è¦å‰‡ï¼šè¹²é¦¬æ­¥é™ä½é‡å¿ƒï¼Œäº’æ¨ï¼', a: 'ä¸‹ç›¤å°æ±º' },
                    { q: 'è¦å‰‡ï¼šå¿…é ˆé–‰ä¸Šä¸€éš»çœ¼ç›äº’æ¨ï¼', a: 'é–‹å§‹æ¯”è³½' },
                    { q: 'è¦å‰‡ï¼šå¿…é ˆä¸€é‚Šæ¨ä¸€é‚Šå¤§ç¬‘ï¼Œåœä¸‹ä¾†å°±ç®—è¼¸ï¼', a: 'é–‹å§‹æ¯”è³½' },
                    { q: 'è¦å‰‡ï¼šåªèƒ½ç”¨æ‰‹èƒŒäº’æ¨ï¼', a: 'é«˜é›£åº¦' },
                    { q: 'è¦å‰‡ï¼šæ¨çš„æ™‚å€™å¿…é ˆå–Šå‡ºå°æ–¹çš„åå­—ï¼', a: 'é–‹å§‹æ¯”è³½' },
                    { q: 'è¦å‰‡ï¼šæ…¢å‹•ä½œäº’æ¨ï¼Œèª°å‹•ä½œå¤ªå¿«çŠ¯è¦ï¼', a: 'é–‹å§‹æ¯”è³½' }
                ]
            },
            {
                id: 'int_5',
                category: 'Interactive',
                title: 'äººé«”è¨ˆæ™‚å™¨',
                desc: 'é–‰çœ¼é»˜æ•¸ç§’æ•¸ï¼Œçœ‹èª°èª¤å·®æœ€å°ï¼',
                icon: 'Clock',
                type: 'text',
                contentPool: [
                    { q: 'é–‰ä¸Šçœ¼ç›ï¼Œé»˜æ•¸ 10 ç§’ èˆ‰æ‰‹ï¼', a: 'çœ‹ç¢¼è¡¨' },
                    { q: 'é–‰ä¸Šçœ¼ç›ï¼Œé»˜æ•¸ 30 ç§’ èˆ‰æ‰‹ï¼', a: 'çœ‹ç¢¼è¡¨' },
                    { q: 'é–‰ä¸Šçœ¼ç›ï¼Œé»˜æ•¸ 60 ç§’ (1åˆ†é˜) èˆ‰æ‰‹ï¼', a: 'çœ‹ç¢¼è¡¨' },
                    { q: 'é–‰ä¸Šçœ¼ç›ï¼Œé»˜æ•¸ 15.5 ç§’ èˆ‰æ‰‹ï¼', a: 'çœ‹ç¢¼è¡¨' },
                    { q: 'ä¸€é‚Šæ·±è¹²ä¸€é‚Šé»˜æ•¸ 20 ç§’ èˆ‰æ‰‹ï¼', a: 'çœ‹ç¢¼è¡¨' },
                    { q: 'é–‰ä¸Šçœ¼ç›ï¼Œé»˜æ•¸ 45 ç§’ èˆ‰æ‰‹ï¼', a: 'çœ‹ç¢¼è¡¨' },
                    { q: 'é–‰ä¸Šçœ¼ç›ï¼Œé»˜æ•¸ 8.8 ç§’ èˆ‰æ‰‹ï¼', a: 'çœ‹ç¢¼è¡¨' },
                    { q: 'å…¨ç­ä¸€èµ·é»˜æ•¸ 10 ç§’ï¼Œçœ‹èª°æœ€æº–ï¼', a: 'çœ‹ç¢¼è¡¨' },
                    { q: 'é–‰æ°£é»˜æ•¸ 20 ç§’', a: 'æ³¨æ„å®‰å…¨' },
                    { q: 'å–®è…³ç«™ç«‹é»˜æ•¸ 15 ç§’ èˆ‰æ‰‹ï¼', a: 'çœ‹ç¢¼è¡¨' }
                ]
            },
            {
                id: 'int_6',
                category: 'Interactive',
                title: 'éˆé­‚ç¹ªå¸«',
                desc: 'å°ä¸ŠåŒå­¸ç•«ï¼Œå…¨ç­è² è²¬çŒœï¼',
                icon: 'PenTool',
                type: 'text',
                contentPool: [
                    { q: 'è«‹ç•«ã€Œè–èª•è€äººè·³èˆã€', a: 'çµ¦å…¨ç­çŒœ' },
                    { q: 'è«‹ç•«ã€Œå“¥å‰æ‹‰åƒæ¼¢å ¡ã€', a: 'çµ¦å…¨ç­çŒœ' },
                    { q: 'è«‹ç•«ã€Œæ­£åœ¨è€ƒè©¦çš„ç« é­šã€', a: 'çµ¦å…¨ç­çŒœ' },
                    { q: 'è«‹ç•«ã€Œå¤–æ˜Ÿäººæ‰“ç±ƒçƒã€', a: 'çµ¦å…¨ç­çŒœ' },
                    { q: 'è«‹ç•«ã€Œé¦¬æ¡¶ä¸Šçš„æ²‰æ€è€…ã€', a: 'çµ¦å…¨ç­çŒœ' },
                    { q: 'è«‹ç•«ã€Œé¨è…³è¸è»Šçš„æé¾ã€', a: 'çµ¦å…¨ç­çŒœ' },
                    { q: 'è«‹ç•«ã€Œæ­£åœ¨æ´—æ¾¡çš„è²“ã€', a: 'çµ¦å…¨ç­çŒœ' },
                    { q: 'è«‹ç•«ã€Œå–çå¥¶çš„è‡ªç”±å¥³ç¥ã€', a: 'çµ¦å…¨ç­çŒœ' },
                    { q: 'è«‹ç•«ã€Œæ­£åœ¨è‡ªæ‹çš„è’™å¨œéº—èã€', a: 'çµ¦å…¨ç­çŒœ' },
                    { q: 'è«‹ç•«ã€Œå·åƒèµ·å¸çš„è€é¼ ã€', a: 'çµ¦å…¨ç­çŒœ' }
                ]
            },

            // --- ç¬¬å››é¡ï¼šç§‘æŠ€èˆ‡æ–°å¥‡ (é…·ç‚«) ---
            {
                id: 'tech_new_1',
                category: 'Tech',
                title: 'å¹´ä»£æ’åº',
                desc: 'å°‡æ­·å²äº‹ä»¶æŒ‰æ™‚é–“å…ˆå¾Œæ’åºï¼',
                icon: 'List',
                type: 'timeline',
                contentPool: [
                    { q: 'è«‹æ’åºï¼š1.äºŒæˆ°çµæŸ 2.éµé”å°¼è™Ÿæ²ˆæ²’ 3.äººé¡ç™»æœˆ 4.è˜‡è¯è§£é«”', a: '2 -> 1 -> 3 -> 4' },
                    { q: 'è«‹æ’åºï¼š1.iPhoneç™¼è¡¨ 2.Facebookå‰µç«‹ 3.Googleæˆç«‹ 4.Windows 95', a: '4 -> 3 -> 2 -> 1' },
                    { q: 'è«‹æ’åºï¼š1.ç§¦å§‹çš‡ 2.æ¼¢æ­¦å¸ 3.å”å¤ªå®— 4.æˆå‰æ€æ±—', a: '1 -> 2 -> 3 -> 4' },
                    { q: 'è«‹æ’åºï¼š1.æé¾æ»…çµ• 2.äººé¡å‡ºç¾ 3.å¯’æ­¦ç´€å¤§çˆ†ç™¼ 4.å†°æ²³æ™‚æœŸ', a: '3 -> 1 -> 2 -> 4' },
                    { q: 'è«‹æ’åºï¼š1.å“ˆåˆ©æ³¢ç‰¹å‡ºç‰ˆ 2.é­”æˆ’é›»å½±ä¸Šæ˜  3.å¾©ä»‡è€…è¯ç›Ÿ 4.é˜¿å‡¡é”', a: '1 -> 2 -> 4 -> 3' }
                ]
            },
            {
                id: 'tech_new_2',
                category: 'Tech',
                title: 'ç‰©ç†ç¾è±¡å‘½å',
                desc: 'è½æ•˜è¿°ï¼Œæ¶ç­”é€™æ˜¯ä»€éº¼ç‰©ç†åŸç†ï¼',
                icon: 'Beaker',
                type: 'text',
                contentPool: [
                    { q: 'é£›æ©Ÿèƒ½ç”¢ç”Ÿå‡åŠ›é£›åœ¨ç©ºä¸­ï¼Œæ˜¯å› ç‚ºæµé€Ÿå¿«å£“åŠ›å°ï¼Œé€™æ˜¯ä»€éº¼åŸç†ï¼Ÿ', a: 'ä¼¯åŠªåˆ©åŸç†' },
                    { q: 'æ•‘è­·è»Šé è¿‘æ™‚è²éŸ³è®Šå°–ï¼Œé é›¢æ™‚è²éŸ³è®Šä½æ²ˆï¼Œé€™æ˜¯ä»€éº¼æ•ˆæ‡‰ï¼Ÿ', a: 'éƒ½åœå‹’æ•ˆæ‡‰' },
                    { q: 'å…‰çº–ç¶²è·¯åˆ©ç”¨å…‰åœ¨å…§éƒ¨ä¸æ–·åå°„å‚³è¼¸ï¼Œé€™æ˜¯å…‰çš„ä»€éº¼ç¾è±¡ï¼Ÿ', a: 'å…¨åå°„' },
                    { q: 'ç„¡ç·šå……é›»ã€æ‚ éŠå¡æ„Ÿæ‡‰æ²’æœ‰æ¥è§¸å»æœ‰é›»ï¼Œåˆ©ç”¨äº†ä»€éº¼åŸç†ï¼Ÿ', a: 'é›»ç£æ„Ÿæ‡‰ (æ³•æ‹‰ç¬¬å®šå¾‹)' },
                    { q: 'èŠ±å¼æ»‘å†°é¸æ‰‹æŠŠæ‰‹æ”¶å›ä¾†ï¼Œæ—‹è½‰é€Ÿåº¦æœƒè®Šå¿«ï¼Œå› ç‚ºä»€éº¼å®ˆæ†ï¼Ÿ', a: 'è§’å‹•é‡å®ˆæ†' },
                    { q: 'ç«ç®­å‡ç©ºæ˜¯åˆ©ç”¨æ°£é«”å‘ä¸‹å™´å°„ç”¢ç”Ÿçš„ä»€éº¼åŠ›ï¼Ÿ', a: 'åä½œç”¨åŠ› (ç‰›é “ç¬¬ä¸‰å®šå¾‹)' },
                    { q: 'ç›ªé¦éŸ†é…åˆç¯€å¥æ¨æœƒè¶Šç›ªè¶Šé«˜ï¼Œéœ‡ç¢ç»ç’ƒæ¯ä¹Ÿæ˜¯åŒç†ï¼Œé€™æ˜¯ä»€éº¼ï¼Ÿ', a: 'å…±æŒ¯' },
                    { q: 'æ„›å› æ–¯å¦å› ç‚ºè§£é‡‹ä»€éº¼ç¾è±¡ç²å¾—è«¾è²çˆ¾çï¼Ÿ(å…‰ç…§é‡‘å±¬è·‘å‡ºé›»å­)', a: 'å…‰é›»æ•ˆæ‡‰' },
                    { q: 'ç†±é‡ä¸æœƒè‡ªç™¼åœ°å¾ä½æº«æµå‘é«˜æº« (è¦†æ°´é›£æ”¶)ï¼Œé€™æ˜¯å“ªæ¢å®šå¾‹ï¼Ÿ', a: 'ç†±åŠ›å­¸ç¬¬äºŒå®šå¾‹ (ç†µå¢)' },
                    { q: 'æ½›æ°´è‰‡é€éå……æ°´æ’æ°´ä¾†æ§åˆ¶æµ®æ²‰ï¼Œæ˜¯æ‡‰ç”¨ä»€éº¼åŸç†ï¼Ÿ', a: 'é˜¿åŸºç±³å¾·åŸç† (æµ®åŠ›)' }
                ]
            },
            {
                id: 'tech_1',
                category: 'Tech',
                title: 'Google åœ°çƒ',
                desc: 'æˆ‘åœ¨å“ªè£¡ï¼Ÿçœ‹è¡—æ™¯çŒœåœ‹å®¶',
                icon: 'Grid',
                type: 'geo-guess',
                contentPool: [
                    { q: 'åœ°é»ï¼šæ³•åœ‹ å·´é»éµå¡”é™„è¿‘', imgText: '[è¡—æ™¯: å·´é»éµå¡”åº•éƒ¨]', a: 'æ³•åœ‹', x: 49, y: 28 },
                    { q: 'åœ°é»ï¼šæ—¥æœ¬ æ±äº¬æ¾€è°·åå­—è·¯å£', imgText: '[è¡—æ™¯: æ¾€è°·äººæ½®]', a: 'æ—¥æœ¬', x: 88, y: 36 },
                    { q: 'åœ°é»ï¼šåŸƒåŠ é‡‘å­—å¡”å‰', imgText: '[è¡—æ™¯: æ²™æ¼ èˆ‡é‡‘å­—å¡”]', a: 'åŸƒåŠ', x: 55, y: 40 },
                    { q: 'åœ°é»ï¼šç¾åœ‹ ç´ç´„æ™‚ä»£å»£å ´', imgText: '[è¡—æ™¯: æ™‚ä»£å»£å ´çœ‹æ¿]', a: 'ç¾åœ‹', x: 29, y: 32 },
                    { q: 'åœ°é»ï¼šå°ç£ å°åŒ—101é–€å£', imgText: '[è¡—æ™¯: 101å¤§æ¨“ä»°è¦–]', a: 'å°ç£', x: 86, y: 42 },
                    { q: 'åœ°é»ï¼šæ¾³æ´² é›ªæ¢¨æ­ŒåŠ‡é™¢', imgText: '[è¡—æ™¯: ç™½è‰²è²æ®¼å»ºç¯‰]', a: 'æ¾³æ´²', x: 92, y: 78 },
                    { q: 'åœ°é»ï¼šä¸­åœ‹ è¬é‡Œé•·åŸ', imgText: '[è¡—æ™¯: é•·åŸåŸç‰†]', a: 'ä¸­åœ‹', x: 82, y: 32 },
                    { q: 'åœ°é»ï¼šç¾©å¤§åˆ© ç¾…é¦¬ç«¶æŠ€å ´', imgText: '[è¡—æ™¯: åœ“å½¢ç«¶æŠ€å ´]', a: 'ç¾©å¤§åˆ©', x: 52, y: 30 },
                    { q: 'åœ°é»ï¼šæ—¥æœ¬ å¯Œå£«å±±', imgText: '[è¡—æ™¯: å±±ä¸‹æ¹–ç•”]', a: 'æ—¥æœ¬', x: 88, y: 36 },
                    { q: 'åœ°é»ï¼šæˆ‘å€‘å­¸æ ¡çš„æ“å ´', imgText: '[è¡—æ™¯: å­¸æ ¡æ“å ´]', a: 'å­¸æ ¡', x: 86, y: 42 }
                ]
            },
            {
                id: 'tech_2',
                category: 'Tech',
                title: 'Deepfake è¾¨è­˜',
                desc: 'å“ªå¼µè‡‰æ˜¯çœŸäººï¼Ÿå“ªå¼µæ˜¯ AIï¼Ÿ',
                icon: 'Cpu',
                type: 'image-diff',
                contentPool: [
                    { q: 'çœŸå‡æ¹¯å§†å…‹é­¯æ–¯', imgText: '[å·¦: çœŸé˜¿æ¹¯å“¥] [å³: AIç”Ÿæˆ]', a: 'å·¦é‚Šæ˜¯çœŸçš„ï¼Œå³é‚Šæ˜¯å‡çš„' },
                    { q: 'çœŸå‡ä¼Šéš†é¦¬æ–¯å…‹', imgText: '[å·¦: AIé¦¬æ–¯å…‹] [å³: çœŸé¦¬æ–¯å…‹]', a: 'å³é‚Šæ˜¯çœŸçš„ï¼Œå·¦é‚Šæ˜¯å‡çš„' },
                    { q: 'é€™éš»è²“æ˜¯çœŸçš„é‚„æ˜¯ç”Ÿæˆçš„ï¼Ÿ', imgText: '[åœ–ç‰‡: å®Œç¾çš„è²“]', a: 'ç”Ÿæˆçš„ (æ¯›é«®å¤ªå®Œç¾)' },
                    { q: 'é€™å€‹é¢¨æ™¯ç…§æ˜¯ç…§ç‰‡é‚„æ˜¯ç•«ï¼Ÿ', imgText: '[åœ–ç‰‡: è¶…å¯«å¯¦é¢¨æ™¯]', a: 'æ˜¯ç…§ç‰‡' },
                    { q: 'é€™å€‹æ–°èä¸»æ’­æ˜¯çœŸçš„å—ï¼Ÿ', imgText: '[åœ–ç‰‡: AIè™›æ“¬ä¸»æ’­]', a: 'æ˜¯ AI è™›æ“¬ä¸»æ’­' },
                    { q: 'çœŸå‡å·æ™®', imgText: '[åœ–ç‰‡: å·æ™®è¢«æ•(å‡)]', a: 'é€™å¼µæ˜¯ AI ç”Ÿæˆçš„å‡æ–°èåœ–' },
                    { q: 'è’™å¨œéº—èå‹•èµ·ä¾†', imgText: '[å½±ç‰‡: æœƒçœ¨çœ¼çš„è’™å¨œéº—è]', a: 'AI ç”Ÿæˆå½±ç‰‡' },
                    { q: 'é€™éš»æé¾æ˜¯çœŸçš„å—ï¼Ÿ', imgText: '[åœ–ç‰‡: æé¾è‡ªæ‹]', a: 'ç•¶ç„¶æ˜¯å‡çš„' },
                    { q: 'é€™ä½å¬°å…’æ˜¯çœŸäººå—ï¼Ÿ', imgText: '[åœ–ç‰‡: æ‰‹æŒ‡æœ‰6æ ¹çš„å¬°å…’]', a: 'AI ç”Ÿæˆçš„ (æ‰‹æŒ‡bug)' },
                    { q: 'æ˜æ˜Ÿçš„ç«¥å¹´ç…§', imgText: '[åœ–ç‰‡: æ¨¡ç³Šä¿®å¾©]', a: 'æ˜¯ AI ä¿®å¾©çš„' }
                ]
            },
            {
                id: 'tech_5',
                category: 'Tech',
                title: 'è¡¨æƒ…åŒ…ç¿»è­¯',
                desc: 'ç”¨ Emoji çŒœæˆèªæˆ–é›»å½±',
                icon: 'Smile',
                type: 'text',
                contentPool: [
                    { q: 'ğŸ‘½ğŸš²ğŸŒ• (çŒœé›»å½±)', a: 'E.T. å¤–æ˜Ÿäºº' },
                    { q: 'ğŸš¢â„ï¸ğŸ’” (çŒœé›»å½±)', a: 'éµé”å°¼è™Ÿ' },
                    { q: 'ğŸ´ğŸ´ğŸ¯ğŸ¯ (çŒœæˆèª)', a: 'é¦¬é¦¬è™è™' },
                    { q: 'ğŸ¥šğŸ¦´å¤´ (çŒœæˆèª)', a: 'é›è›‹è£¡æŒ‘éª¨é ­' },
                    { q: 'ğŸ ğŸ”ğŸŒŠ (çŒœé›»å½±)', a: 'æµ·åº•ç¸½å‹•å“¡' },
                    { q: 'ğŸğŸ‘¸ğŸ˜´ (çŒœç«¥è©±)', a: 'ç™½é›ªå…¬ä¸»' },
                    { q: 'ğŸ•·ï¸ğŸ•¸ï¸ğŸ¦¸ (çŒœé›»å½±)', a: 'èœ˜è››äºº' },
                    { q: 'ğŸŒ§ï¸â¡ï¸â˜€ï¸ (çŒœæˆèª)', a: 'é›¨éå¤©æ™´' },
                    { q: 'ğŸ®ğŸ‘»ğŸç¥ (çŒœæˆèª)', a: 'ç‰›é¬¼è›‡ç¥' },
                    { q: 'ğŸğŸŒ¸ğŸŒ‚ğŸŒ§ï¸ (çŒœæˆèª)', a: 'æ¢¨èŠ±å¸¶é›¨' }
                ]
            },

            // --- ç¬¬äº”é¡ï¼šé‹æ°£èˆ‡ç›´è¦º (é–€æª»ä½) ---
            {
                id: 'luck_1',
                category: 'Luck',
                title: 'è¦çš®çŒœåƒ¹ç‹',
                desc: 'çŒœçŒœé€™å€‹æ€ªæ±è¥¿è³£å¤šå°‘éŒ¢ï¼Ÿ',
                icon: 'Trophy',
                type: 'image',
                contentPool: [
                    { q: 'æ•´äººæ”¾å±åå¢Š', imgText: '[å•†å“åœ–: å¡‘è† å¢Š]', a: '$99' },
                    { q: 'ä»¿çœŸèŸ‘è‚æŠ±æ• 100cm', imgText: '[å•†å“åœ–: å·¨å¤§èŸ‘è‚]', a: '$299' },
                    { q: 'å¯ä»¥ç©¿çš„é¾œæ®¼ç©å¶', imgText: '[å•†å“åœ–: äººç©¿é¾œæ®¼]', a: '$599' },
                    { q: 'ä¸€æ ¹æ™®é€šçš„ç¨»è‰', imgText: '[å•†å“åœ–: ç¨»è‰]', a: '$1 (çœŸçš„æœ‰äººè³£)' },
                    { q: 'è¶…å¤§ Enter æŒ‰éµæ•é ­', imgText: '[å•†å“åœ–: å·¨å‹æŒ‰éµ]', a: '$150' },
                    { q: 'è¶…é€¼çœŸé­šæ‹–é‹', imgText: '[å•†å“åœ–: é­šå‹æ‹–é‹]', a: '$120' },
                    { q: 'å·¨å‹ AirPods è—èŠ½å–‡å­', imgText: '[å•†å“åœ–: å·¨å¤§è€³æ©Ÿ]', a: '$350' },
                    { q: 'è‚Œè‚‰çŒ›ç”·æŠ±æ•', imgText: '[å•†å“åœ–: è‚Œè‚‰ç”·]', a: '$450' },
                    { q: 'æ…˜å«é›', imgText: '[å•†å“åœ–: é»ƒè‰²å¡‘è† é›]', a: '$49' },
                    { q: 'å°æœ‰éˆ”ç¥¨åœ–æ¡ˆçš„è¡›ç”Ÿç´™', imgText: '[å•†å“åœ–: éˆ”ç¥¨æ²ç­’]', a: '$80' }
                ]
            },
            {
                id: 'luck_2',
                category: 'Luck',
                title: 'YT è¨‚é–±æ•¸æ¯”å¤§å°',
                desc: 'èª°çš„è¨‚é–±æ•¸æ¯”è¼ƒå¤šï¼Ÿ',
                icon: 'RefreshCw',
                type: 'image-diff',
                contentPool: [
                    { q: 'è€é«˜ vs Joeman', imgText: '[è€é«˜] vs [Joeman]', a: 'è€é«˜' },
                    { q: 'è”¡é˜¿å˜ vs é…·çš„å¤¢', imgText: '[è”¡é˜¿å˜] vs [é…·çš„å¤¢]', a: 'è”¡é˜¿å˜' },
                    { q: 'HOOK vs æ»´å¦¹', imgText: '[HOOK] vs [æ»´å¦¹]', a: 'HOOK (è¿‘æœŸäº’æœ‰æ¶ˆé•·)' },
                    { q: 'æœ¨æ›œ4è¶…ç© vs é€™ç¾¤äºº', imgText: '[æœ¨æ›œ] vs [é€™ç¾¤äºº]', a: 'é€™ç¾¤äºº (ç¸½æ•¸)' },
                    { q: 'è°·é˜¿è« vs å•¾å•¾é‹', imgText: '[è°·é˜¿è«] vs [å•¾å•¾é‹]', a: 'è°·é˜¿è«' },
                    { q: 'PewDiePie vs MrBeast', imgText: '[PewDiePie] vs [MrBeast]', a: 'MrBeast' },
                    { q: 'ç‹ æ„›æ¼”(å·²åœæ›´) vs åéª¨ç”·å­©', imgText: '[ç‹ æ„›æ¼”] vs [åéª¨]', a: 'åéª¨ç”·å­©' },
                    { q: 'åƒåƒé€²é£Ÿä¸­ vs é™ªæ²ˆåœ˜', imgText: '[åƒåƒ] vs [æ²ˆ]', a: 'åƒåƒ' },
                    { q: 'è¨±ä¼¯ç°¡èŠ vs é»ƒæ°å…„å¼Ÿ', imgText: '[è¨±ä¼¯] vs [é»ƒæ°å…„å¼Ÿ]', a: 'é»ƒæ°å…„å¼Ÿ' },
                    { q: 'Toyz vs çµ±ç¥', imgText: '[Toyz] vs [çµ±ç¥]', a: 'Toyz (å°é–å‰)' }
                ]
            },
            {
                id: 'luck_3',
                category: 'Luck',
                title: 'ä¸–ç•Œä¹‹æœ€',
                desc: 'å“ªå€‹æ¯”è¼ƒé•·/é«˜/å¤§ï¼Ÿ',
                icon: 'Ghost',
                type: 'quiz-options',
                contentPool: [
                    { q: 'ä¸–ç•Œæœ€é«˜çš„æ¨“ï¼Ÿ', options: ['A. å°åŒ—101', 'B. å“ˆé‡Œç™¼å¡”', 'C. ä¸Šæµ·ä¸­å¿ƒ', 'D. æ±äº¬æ™´ç©ºå¡”'], a: 'B. å“ˆé‡Œç™¼å¡”' },
                    { q: 'ä¸–ç•Œæœ€é•·çš„æ²³ï¼Ÿ', options: ['A. é•·æ±Ÿ', 'B. å¯†è¥¿è¥¿æ¯”æ²³', 'C. å°¼ç¾…æ²³', 'D. äºé¦¬éœæ²³'], a: 'C. å°¼ç¾…æ²³' },
                    { q: 'å“ªå€‹æ˜Ÿçƒæ¯”è¼ƒå¤§ï¼Ÿ', options: ['A. åœ°çƒ', 'B. ç«æ˜Ÿ', 'C. åœŸæ˜Ÿ', 'D. æœ¨æ˜Ÿ'], a: 'D. æœ¨æ˜Ÿ' },
                    { q: 'å“ªå€‹æ¯”è¼ƒæ—©ç™¼æ˜ï¼Ÿ', options: ['A. ç«æŸ´', 'B. æ‰“ç«æ©Ÿ', 'C. åŒæ™‚', 'D. ä¸çŸ¥é“'], a: 'B. æ‰“ç«æ©Ÿ (æ²’éŒ¯ï¼Œæ‰“ç«æ©Ÿæ¯”ç«æŸ´æ—©)' },
                    { q: 'äººé«”æœ€å¤šçš„éª¨é ­åœ¨å“ªï¼Ÿ', options: ['A. é ­', 'B. è„Šæ¤', 'C. æ‰‹', 'D. è…³'], a: 'C. æ‰‹' },
                    { q: 'é€Ÿåº¦èª°æ¯”è¼ƒå¿«ï¼Ÿ', options: ['A. çµè±¹', 'B. éŠéš¼', 'C. æ——é­š', 'D. é´•é³¥'], a: 'B. éŠéš¼ (ä¿¯è¡é€Ÿåº¦)' },
                    { q: 'èª°æ¯”è¼ƒé‡ï¼Ÿ', options: ['A. éæ´²è±¡', 'B. è—é¯¨', 'C. æš´é¾', 'D. å…¬è»Š'], a: 'B. è—é¯¨' },
                    { q: 'åœ°çƒå“ªè£¡æœ€æ·±ï¼Ÿ', options: ['A. é¦¬é‡Œäºç´æµ·æº', 'B. æ±åŠ æµ·æº', 'C. è²å¾‹è³“æµ·æº', 'D. ä½ çš„å¿ƒ'], a: 'A. é¦¬é‡Œäºç´æµ·æº' },
                    { q: 'é€Ÿåº¦èª°æ¯”è¼ƒå¿«ï¼Ÿ', options: ['A. å…‰é€Ÿ', 'B. éŸ³é€Ÿ', 'C. å¤ªç©ºæ¢­', 'D. é–ƒé›»ä¿ '], a: 'A. å…‰é€Ÿ' },
                    { q: 'èª°æ¯”è¼ƒç¡¬ï¼Ÿ', options: ['A. éµ', 'B. é‘½çŸ³', 'C. çŸ³å¢¨', 'D. éˆ¦åˆé‡‘'], a: 'B. é‘½çŸ³' }
                ]
            },
            {
                id: 'luck_5',
                category: 'Luck',
                title: 'å¹´ä»½çŒœçŒœçœ‹',
                desc: 'é€™å¼µèˆŠç…§ç‰‡æ˜¯å“ªä¸€å¹´ï¼Ÿ',
                icon: 'Timer',
                type: 'image',
                contentPool: [
                    { q: 'ç¬¬ä¸€ä»£ iPhone ç™¼è¡¨', imgText: '[ç…§ç‰‡: è³ˆä¼¯æ–¯æ‹¿iPhone]', a: '2007å¹´' },
                    { q: 'éµé”å°¼è™Ÿä¸Šæ˜ ', imgText: '[æµ·å ±: å‚‘å…‹èˆ‡è˜¿çµ²]', a: '1997å¹´' },
                    { q: 'SARS ç–«æƒ…çˆ†ç™¼', imgText: '[ç…§ç‰‡: æˆ´å£ç½©çš„äººç¾¤]', a: '2003å¹´' },
                    { q: 'Michael Jackson å»ä¸–', imgText: '[ç…§ç‰‡: MJæ¼”å”±æœƒ]', a: '2009å¹´' },
                    { q: 'Facebook å‰µç«‹', imgText: '[Logo: æ—©æœŸFBä»‹é¢]', a: '2004å¹´' },
                    { q: '911 ææ€–æ”»æ“Šäº‹ä»¶', imgText: '[ç…§ç‰‡: é›™å­æ˜Ÿå¤§æ¨“]', a: '2001å¹´' },
                    { q: 'æ±äº¬å¥§é‹ (èˆ‰è¾¦å¹´)', imgText: '[ç…§ç‰‡: æ±å¥§Logo]', a: '2021å¹´' },
                    { q: 'å­¸æ ¡å‰µæ ¡', imgText: '[ç…§ç‰‡: å­¸æ ¡è€ç…§ç‰‡]', a: 'è«‹æŸ¥æ ¡å²' },
                    { q: 'ç­å°å¸«å‡ºç”Ÿ', imgText: '[ç…§ç‰‡: å¬°å…’ç…§]', a: 'ç§˜å¯† (çŒœå°æœ‰ç?)' },
                    { q: 'COVID-19 ç–«æƒ…çˆ†ç™¼', imgText: '[ç…§ç‰‡: æ–°å† ç—…æ¯’]', a: '2019å¹´åº•' }
                ]
            },
            {
                id: 'luck_6',
                category: 'Luck',
                title: 'æœå°‹è¶¨å‹¢ PK',
                desc: 'èª°è¢«æœå°‹çš„æ¬¡æ•¸æ¯”è¼ƒå¤šï¼Ÿ',
                icon: 'RefreshCw',
                type: 'text',
                contentPool: [
                    { q: 'éº¥ç•¶å‹ vs è‚¯å¾·åŸº', a: 'éº¥ç•¶å‹' },
                    { q: 'PS5 vs Switch', a: 'Switch (é•·æœŸ)' },
                    { q: 'è–èª•ç¯€ vs æ–°å¹´', a: 'è–èª•ç¯€' },
                    { q: 'æ¸›è‚¥ vs å¢è‚¥', a: 'æ¸›è‚¥' },
                    { q: 'è‹±æ–‡ vs æ•¸å­¸', a: 'è‹±æ–‡' },
                    { q: 'è²“ vs ç‹—', a: 'ç‹— (é€šå¸¸ç•¥é«˜)' },
                    { q: 'çç å¥¶èŒ¶ vs å’–å•¡', a: 'å’–å•¡' },
                    { q: 'æš‘å‡ vs å¯’å‡', a: 'æš‘å‡' },
                    { q: 'Instagram vs TikTok', a: 'Instagram' },
                    { q: 'YouTube vs Netflix', a: 'YouTube' }
                ]
            }
        ];

        // --- STATE & UTILS ---
        let games = [];
        let revealedIndices = [];
        let playedIndices = [];
        let activeGameIndex = null;
        let currentQuestion = null;
        let showAnswerState = false;
        let timer = 0;
        let timerInterval = null;
        let isTimerRunning = false;
        let tabooReady = false;

        // ç”Ÿæˆä½”ä½åœ–ç‰‡çš„å‡½æ•¸ (æ¨¡æ“¬ getPlaceholderImage)
        function getImageUrl(text) {
            // ä½¿ç”¨ Placehold.co ç”¢ç”ŸåŒ…å«æ–‡å­—çš„åœ–ç‰‡
            const cleanText = text.replace(/\[|\]/g, '').replace('ç…§ç‰‡: ', '').replace('å•†å“åœ–: ', '').replace('è¡—æ™¯: ', '').trim();
            const bgColor = '000000';
            const textColor = 'FFFFFF';
            return `https://placehold.co/600x400/${bgColor}/${textColor}/png?text=${encodeURIComponent(cleanText)}`;
        }

        // --- INIT ---
        function init() {
            // éš¨æ©Ÿæ‰“äº‚éŠæˆ²é †åº
            games = [...RAW_GAMES_DATA].sort(() => Math.random() - 0.5);
            renderBoard();
        }

        // --- RENDERING BOARD ---
        function renderBoard() {
            const grid = document.getElementById('cards-grid');
            grid.innerHTML = '';
            document.getElementById('played-count').innerText = `å·²ç©éŠæˆ²ï¼š${playedIndices.length} / ${games.length}`;

            games.forEach((game, index) => {
                const isRevealed = revealedIndices.includes(index);
                const isPlayed = playedIndices.includes(index);
                const categoryColor = CATEGORY_COLORS[game.category];
                const categoryName = CATEGORY_NAMES[game.category];
                const iconClass = ICONS_MAP[game.icon] || 'fa-question';

                const cardHTML = `
                <div class="relative w-full aspect-[3/4] cursor-pointer perspective-1000 group transition-all duration-500 card-container ${isPlayed ? 'card-played' : ''}" onclick="handleCardClick(${index})">
                    <div class="w-full h-full relative preserve-3d transition-all duration-700 ${isRevealed ? 'rotate-y-180' : ''}">
                        <!-- Back (Gift Box) -->
                        <div class="absolute w-full h-full backface-hidden bg-gradient-to-br from-red-600 to-red-800 rounded-xl border-4 border-yellow-400 shadow-lg flex flex-col items-center justify-center">
                            <div class="absolute w-full h-4 bg-yellow-400 top-1/2 -translate-y-1/2"></div>
                            <div class="absolute h-full w-4 bg-yellow-400 left-1/2 -translate-x-1/2"></div>
                            <div class="z-10 bg-white/20 backdrop-blur-sm rounded-full w-12 h-12 flex items-center justify-center border-2 border-yellow-200">
                                <span class="text-2xl font-bold text-white drop-shadow-md">${index + 1}</span>
                            </div>
                            <div class="absolute bottom-2 text-white/80 text-xs font-bold">CLICK ME</div>
                        </div>

                        <!-- Front (Game Info) -->
                        <div class="absolute w-full h-full backface-hidden rotate-y-180 rounded-xl border-4 shadow-xl flex flex-col items-center justify-center p-2 text-center ${categoryColor}">
                            <div class="mb-2 transform scale-125">
                                <i class="fa-solid ${iconClass} text-3xl"></i>
                            </div>
                            <div class="text-xs font-bold uppercase tracking-wider opacity-80 mb-1">${categoryName}</div>
                            <h3 class="text-lg font-black leading-tight break-words mb-2">${game.title}</h3>
                            <p class="text-[10px] opacity-90 line-clamp-2">${game.desc}</p>
                            <button class="mt-auto bg-white/20 hover:bg-white/40 text-white text-xs py-1 px-3 rounded-full transition-colors font-bold">
                                é–‹å§‹å°æˆ°
                            </button>
                        </div>
                    </div>
                </div>
                `;
                grid.insertAdjacentHTML('beforeend', cardHTML);
            });
        }

        function handleCardClick(index) {
            if (playedIndices.includes(index)) return;

            if (!revealedIndices.includes(index)) {
                revealedIndices.push(index);
                renderBoard(); // Re-render to show flip
            } else {
                startBattle(index);
            }
        }

        // --- BATTLE LOGIC ---
        function startBattle(index) {
            activeGameIndex = index;
            const game = games[index];
            const battleView = document.getElementById('battle-view');
            const bgClass = CATEGORY_COLORS[game.category].split(' ')[0]; // Extract bg-color class
            
            // Apply background color
            battleView.className = `fixed inset-0 z-50 flex flex-col transition-colors duration-500 overflow-hidden ${bgClass}`;
            
            // Update Header & Icon
            document.getElementById('battle-header-title').innerText = `${CATEGORY_NAMES[game.category]} :: ${game.title}`;
            const iconClass = ICONS_MAP[game.icon] || 'fa-gamepad';
            document.getElementById('battle-icon').className = `fa-solid ${iconClass} text-4xl text-white`;
            document.getElementById('battle-footer').innerText = `Christmas Party Battle Mode â€¢ ${game.desc}`;

            // Show Battle View
            document.getElementById('board-view').classList.add('hidden');
            document.getElementById('battle-view').classList.remove('hidden');

            tabooReady = false;
            pickRandomQuestion();
        }

        function backToBoard() {
            // Mark as played
            if (activeGameIndex !== null && !playedIndices.includes(activeGameIndex)) {
                playedIndices.push(activeGameIndex);
            }
            
            // Stop timers
            stopTimer();
            
            // Switch views
            document.getElementById('battle-view').classList.add('hidden');
            document.getElementById('board-view').classList.remove('hidden');
            renderBoard();
            activeGameIndex = null;
        }

        function pickRandomQuestion() {
            const game = games[activeGameIndex];
            const randomItem = game.contentPool[Math.floor(Math.random() * game.contentPool.length)];
            currentQuestion = randomItem;
            
            // Reset UI states
            showAnswerState = false;
            document.getElementById('answer-display').classList.add('hidden');
            document.getElementById('answer-btn-text').innerText = 'çœ‹ç­”æ¡ˆ';
            resetTimer();

            // Handle Taboo special case state
            if (game.type === 'taboo') {
                tabooReady = false;
            }

            renderQuestionContent(game, randomItem);
        }

        function renderQuestionContent(game, item) {
            const container = document.getElementById('question-container');
            container.innerHTML = '';

            // 1. Taboo (èƒŒå°æ¨¡å¼)
            if (game.type === 'taboo' && !tabooReady) {
                container.innerHTML = `
                    <div class="flex flex-col items-center justify-center h-80 bg-red-900/80 backdrop-blur-md rounded-3xl border-4 border-red-500 p-8 text-center animate-pulse">
                        <i class="fa-solid fa-triangle-exclamation text-6xl text-yellow-400 mb-6"></i>
                        <h2 class="text-4xl md:text-5xl font-black text-white mb-4">è­¦å‘Š</h2>
                        <p class="text-2xl text-white/90 mb-8">è«‹åƒè³½è€…èƒŒå°è¢å¹•ï¼<br/>(é€™æ˜¯é™·å®³éŠæˆ²ï¼Œä¸èƒ½çœ‹ï¼)</p>
                        <button onclick="setTabooReady()" class="bg-yellow-400 hover:bg-yellow-300 text-red-900 px-8 py-4 rounded-full font-bold text-xl shadow-lg transition-transform hover:scale-105">
                            å¥½äº†ï¼Œé¡¯ç¤ºé¡Œç›®ï¼
                        </button>
                    </div>
                `;
                return;
            }

            // 2. Flash (é–ƒè¦–æ¨¡å¼) - é¡Œç›®å°šæœªéš±è—æ™‚ (é‚è¼¯ï¼šä¸€é–‹å§‹é¡¯ç¤ºï¼Œç„¶å¾Œéš±è—)
            // ç°¡åŒ–é‚è¼¯ï¼šFlash æ¨¡å¼ä¸€é–‹å§‹é¡¯ç¤ºï¼Œ1.5ç§’å¾Œéš±è—å…§å®¹
            if (game.type === 'flash') {
                 // é€™è£¡æˆ‘å€‘ç”¨ä¸€å€‹ç°¡å–®çš„ setTimeout ä¾†æ¨¡æ“¬ React çš„ useEffect é–ƒç¾é‚è¼¯
                 // å…ˆé¡¯ç¤ºå…§å®¹
                 const content = createStandardContent(game, item);
                 container.innerHTML = content;
                 
                 setTimeout(() => {
                     if (!showAnswerState) {
                         container.innerHTML = `
                            <div class="flex flex-col items-center justify-center h-64 bg-black/40 backdrop-blur-md rounded-3xl border border-white/20 p-6 animate-pulse">
                                <i class="fa-solid fa-eye-slash text-6xl text-white/50 mb-4"></i>
                                <h2 class="text-3xl font-bold text-white/80">é¡Œç›®å·²éš±è—</h2>
                                <p class="text-white/60 mt-2">è«‹å›ç­”å‰›æ‰çœ‹åˆ°çš„å…§å®¹ï¼</p>
                            </div>
                         `;
                     }
                 }, 1500);
                 return;
            }

            // 3. True/False (çœŸå‡å†·çŸ¥è­˜)
            if (game.type === 'true-false') {
                container.innerHTML = `
                    <div class="flex flex-col items-center justify-center h-64 bg-white/10 backdrop-blur-md rounded-3xl shadow-inner border border-white/20 p-6 w-full">
                        <h2 class="text-3xl md:text-5xl font-bold text-center text-white drop-shadow-lg leading-relaxed mb-8">
                            ${item.q}
                        </h2>
                        <div class="flex gap-12">
                            <div class="flex flex-col items-center text-green-400 opacity-50">
                                <i class="fa-regular fa-circle-check text-6xl"></i>
                                <span class="text-2xl font-bold">TRUE</span>
                            </div>
                            <div class="flex flex-col items-center text-red-400 opacity-50">
                                <i class="fa-regular fa-circle-xmark text-6xl"></i>
                                <span class="text-2xl font-bold">FALSE</span>
                            </div>
                        </div>
                    </div>
                `;
                return;
            }

            // 4. Quiz Options (é¸æ“‡é¡Œ)
            if (game.type === 'quiz-options') {
                let optionsHTML = '';
                item.options.forEach((opt, i) => {
                    // ç‚ºäº†åœ¨ç´” HTML ä¸­é«˜äº®ç­”æ¡ˆï¼Œæˆ‘å€‘åœ¨ showAnswer å‡½æ•¸ä¸­è™•ç†æ¨£å¼ï¼Œé€™è£¡å…ˆæ¸²æŸ“åŸºæœ¬æŒ‰éˆ•
                    optionsHTML += `<div id="opt-${i}" class="p-4 rounded-xl text-lg font-bold bg-white/20 text-white transition-all border border-transparent">${opt}</div>`;
                });

                container.innerHTML = `
                    <div class="flex flex-col items-center justify-center bg-white/10 backdrop-blur-md rounded-3xl shadow-inner border border-white/20 p-6 w-full">
                        <h2 class="text-2xl md:text-4xl font-bold text-center text-white drop-shadow-lg mb-8">${item.q}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl">
                            ${optionsHTML}
                        </div>
                    </div>
                `;
                return;
            }

            // 5. Timeline (æ’åº)
            if (game.type === 'timeline') {
                container.innerHTML = `
                     <div class="flex flex-col items-center justify-center bg-white/10 backdrop-blur-md rounded-3xl shadow-inner border border-white/20 p-6 w-full">
                        <h2 class="text-xl md:text-3xl font-bold text-center text-white drop-shadow-lg mb-6 leading-relaxed">
                            ${item.q}
                        </h2>
                        <div id="timeline-answer-area" class="text-white/60 animate-pulse font-bold text-xl">è«‹æ¶ç­”ä¸¦æ’åº...</div>
                     </div>
                `;
                return;
            }

            // 6. Image Types & Text (æ¨™æº–æ¨¡å¼)
            container.innerHTML = createStandardContent(game, item);
        }

        function createStandardContent(game, item) {
            const isImageGame = ['image', 'image-diff', 'image-find', 'mashup-guess', 'geo-guess', 'deepfake-guess', 'image-find-organ'].includes(game.type);
            
            let html = '<div class="flex flex-col items-center justify-center bg-white/10 backdrop-blur-md rounded-3xl shadow-inner border border-white/20 p-6 w-full">';
            
            if (isImageGame) {
                const imgText = item.imgText || item.q;
                const imgUrl = getImageUrl(imgText);
                const displayTitle = (game.type === 'geo-guess' && !showAnswerState) ? 'è«‹çœ‹åœ–çŒœæ¸¬' : item.q;
                
                html += `
                    <div class="relative w-full max-w-3xl aspect-[2/1] bg-black/30 rounded-lg overflow-hidden mb-4 flex items-center justify-center group">
                        <img src="${imgUrl}" class="w-full h-full object-contain bg-black">
                        ${game.type === 'geo-guess' && !showAnswerState ? '<div class="absolute inset-0 flex items-center justify-center pointer-events-none"><i class="fa-solid fa-location-dot text-6xl text-white/50"></i></div>' : ''}
                        <!-- Geo Guess Marker (Hidden by default) -->
                        <div id="geo-marker" class="hidden absolute w-4 h-4 bg-red-600 rounded-full border-2 border-white shadow-xl animate-ping" style="left: ${item.x || 50}%; top: ${item.y || 50}%"></div>
                        <div id="geo-marker-static" class="hidden absolute w-4 h-4 bg-red-600 rounded-full border-2 border-white shadow-xl" style="left: ${item.x || 50}%; top: ${item.y || 50}%"></div>
                    </div>
                    <h2 class="text-2xl md:text-4xl font-bold text-center text-white drop-shadow-lg leading-relaxed">${displayTitle}</h2>
                `;
            } else {
                // Pure Text
                html += `
                    <div class="min-h-[200px] flex items-center justify-center">
                        <h2 class="text-3xl md:text-5xl font-bold text-center text-white drop-shadow-lg leading-relaxed">${item.q}</h2>
                    </div>
                `;
            }
            
            html += '</div>';
            return html;
        }

        function setTabooReady() {
            tabooReady = true;
            renderQuestionContent(games[activeGameIndex], currentQuestion);
        }

        function toggleAnswer() {
            const game = games[activeGameIndex];
            showAnswerState = !showAnswerState;
            
            const btnText = document.getElementById('answer-btn-text');
            const answerDisplay = document.getElementById('answer-display');
            
            btnText.innerText = showAnswerState ? 'éš±è—ç­”æ¡ˆ' : 'çœ‹ç­”æ¡ˆ';
            
            if (showAnswerState) {
                // é¡¯ç¤ºç­”æ¡ˆ
                
                // å¦‚æœæ˜¯ Flash æ¨¡å¼ï¼Œé¡¯ç¤ºç­”æ¡ˆæ™‚è¦é‡æ–°é¡¯ç¤ºé¡Œç›®åœ–ç‰‡
                if(game.type === 'flash') {
                     const container = document.getElementById('question-container');
                     container.innerHTML = createStandardContent(game, currentQuestion);
                }

                // è™•ç†ç‰¹æ®Šé¡å‹é¡¯ç¤º
                if (game.type === 'true-false') {
                    // True/False ä¸ç”¨ä¸‹æ–¹æ©«å¹…ï¼Œç›´æ¥åœ¨å¡ç‰‡å…§é¡¯ç¤º(æˆ–æ˜¯ä¿æŒä¸‹æ–¹æ©«å¹…ä¹Ÿå¯ä»¥ï¼Œé€™è£¡ä½¿ç”¨ä¸‹æ–¹æ©«å¹…çµ±ä¸€)
                     answerDisplay.innerText = currentQuestion.a;
                     answerDisplay.classList.remove('hidden');
                } else if (game.type === 'quiz-options') {
                    // é¸æ“‡é¡Œé«˜äº®
                    currentQuestion.options.forEach((opt, i) => {
                         const optEl = document.getElementById(`opt-${i}`);
                         if(optEl) {
                             if(currentQuestion.a.includes(opt.split('.')[0])) {
                                 optEl.className = "p-4 rounded-xl text-lg font-bold bg-green-500 text-white scale-105 shadow-lg border-2 border-white transition-all";
                             }
                         }
                    });
                } else if (game.type === 'timeline') {
                    // æ’åºé¡Œé¡¯ç¤º
                    const timelineArea = document.getElementById('timeline-answer-area');
                    if(timelineArea) {
                        timelineArea.className = "w-full max-w-2xl bg-white/20 p-4 rounded-xl";
                        timelineArea.innerHTML = `
                            <div class="text-yellow-300 font-bold mb-2 text-lg">æ­£ç¢ºé †åºï¼š</div>
                            <div class="text-2xl font-black text-white">${currentQuestion.a}</div>
                        `;
                    }
                } else if (game.type === 'geo-guess') {
                    // Google Earth é¡¯ç¤ºç´…é»
                    document.getElementById('geo-marker').classList.remove('hidden');
                    document.getElementById('geo-marker-static').classList.remove('hidden');
                    answerDisplay.innerText = `ç­”æ¡ˆï¼š${currentQuestion.a}`;
                    answerDisplay.classList.remove('hidden');
                } else {
                    // ä¸€èˆ¬æ–‡å­—æˆ–åœ–ç‰‡
                    answerDisplay.innerText = `ç­”æ¡ˆï¼š${currentQuestion.a}`;
                    answerDisplay.classList.remove('hidden');
                }

            } else {
                // éš±è—ç­”æ¡ˆ
                answerDisplay.classList.add('hidden');
                
                // å¾©åŸé¸æ“‡é¡Œæ¨£å¼
                if (game.type === 'quiz-options') {
                     currentQuestion.options.forEach((opt, i) => {
                         const optEl = document.getElementById(`opt-${i}`);
                         if(optEl) optEl.className = "p-4 rounded-xl text-lg font-bold bg-white/20 text-white transition-all border border-transparent";
                    });
                }
                // å¾©åŸæ’åºé¡Œæ¨£å¼
                if(game.type === 'timeline') {
                     const timelineArea = document.getElementById('timeline-answer-area');
                     if(timelineArea) {
                         timelineArea.className = "text-white/60 animate-pulse font-bold text-xl";
                         timelineArea.innerText = "è«‹æ¶ç­”ä¸¦æ’åº...";
                     }
                }
            }
        }

        // --- TIMER ---
        function toggleTimer() {
            if (isTimerRunning) {
                stopTimer();
            } else {
                startTimer();
            }
        }

        function startTimer() {
            isTimerRunning = true;
            const btn = document.getElementById('timer-toggle-btn');
            btn.innerText = 'æš«åœ';
            btn.className = "px-3 py-1 rounded text-sm font-bold shadow bg-red-500 text-white";
            
            timerInterval = setInterval(() => {
                timer++;
                updateTimerDisplay();
            }, 1000);
        }

        function stopTimer() {
            isTimerRunning = false;
            clearInterval(timerInterval);
            const btn = document.getElementById('timer-toggle-btn');
            btn.innerText = 'é–‹å§‹';
            btn.className = "px-3 py-1 rounded text-sm font-bold shadow bg-green-500 text-white";
        }

        function resetTimer() {
            stopTimer();
            timer = 0;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const m = Math.floor(timer / 60).toString().padStart(2, '0');
            const s = (timer % 60).toString().padStart(2, '0');
            document.getElementById('timer-display').innerText = `${m}:${s}`;
        }

        function resetAll() {
            if(confirm('ç¢ºå®šè¦é‡ç½®æ‰€æœ‰éŠæˆ²é€²åº¦å—ï¼Ÿ')) {
                playedIndices = [];
                revealedIndices = [];
                init();
            }
        }

        // --- START APP ---
        init();

    </script>
</body>
</html>
