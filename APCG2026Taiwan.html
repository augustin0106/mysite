<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2299.77">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #2c5eb2; -webkit-text-stroke: #2c5eb2}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #a25641; -webkit-text-stroke: #a25641}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6bbbfc; -webkit-text-stroke: #6bbbfc}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #b0b0b0; -webkit-text-stroke: #b0b0b0}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #52ab5d; -webkit-text-stroke: #52ab5d}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #b0b0b0; -webkit-text-stroke: #b0b0b0; min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #484d52; -webkit-text-stroke: #484d52}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'PingFang TC'; color: #b0b0b0; -webkit-text-stroke: #b0b0b0}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'PingFang TC'; color: #52ab5d; -webkit-text-stroke: #52ab5d}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px 'PingFang TC'; color: #484d52; -webkit-text-stroke: #484d52}
    span.s1 {font-kerning: none; background-color: #0f1010}
    span.s2 {font-kerning: none; color: #6bbbfc; background-color: #0f1010; -webkit-text-stroke: 0px #6bbbfc}
    span.s3 {font-kerning: none; color: #484848; background-color: #0f1010; -webkit-text-stroke: 0px #484848}
    span.s4 {font-kerning: none; color: #2c5eb2; background-color: #0f1010; -webkit-text-stroke: 0px #2c5eb2}
    span.s5 {font-kerning: none; color: #b0b0b0; background-color: #0f1010; -webkit-text-stroke: 0px #b0b0b0}
    span.s6 {font-kerning: none; color: #a25641; background-color: #0f1010; -webkit-text-stroke: 0px #a25641}
    span.s7 {font: 14.0px 'PingFang TC'; font-kerning: none; background-color: #0f1010}
    span.s8 {font-kerning: none; color: #932ff2; background-color: #0f1010; -webkit-text-stroke: 0px #932ff2}
    span.s9 {font-kerning: none; color: #bebebe; background-color: #0f1010; -webkit-text-stroke: 0px #bebebe}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #86af73; background-color: #0f1010; -webkit-text-stroke: 0px #86af73}
    span.s12 {font-kerning: none; color: #52ab5d; background-color: #0f1010; -webkit-text-stroke: 0px #52ab5d}
    span.s13 {font-kerning: none; color: #484d52; background-color: #0f1010; -webkit-text-stroke: 0px #484d52}
    span.s14 {font: 14.0px 'PingFang TC'; font-kerning: none; color: #484d52; background-color: #0f1010; -webkit-text-stroke: 0px #484d52}
    span.s15 {font: 14.0px Menlo; font-kerning: none; background-color: #0f1010}
    span.s16 {font: 14.0px Menlo; font-kerning: none; color: #484848; background-color: #0f1010; -webkit-text-stroke: 0px #484848}
    span.s17 {font: 14.0px Menlo; font-kerning: none; color: #2c5eb2; background-color: #0f1010; -webkit-text-stroke: 0px #2c5eb2}
    span.s18 {font: 14.0px 'PingFang TC'; font-kerning: none; color: #b0b0b0; background-color: #0f1010; -webkit-text-stroke: 0px #b0b0b0}
    span.s19 {font: 14.0px 'Apple Color Emoji'; font-kerning: none; background-color: #0f1010}
    span.s20 {font-kerning: none; color: #2baa7c; background-color: #0f1010; -webkit-text-stroke: 0px #2baa7c}
    span.s21 {font: 14.0px Menlo; font-kerning: none; color: #b0b0b0; background-color: #0f1010; -webkit-text-stroke: 0px #b0b0b0}
    span.s22 {font: 14.0px Menlo; font-kerning: none; color: #932ff2; background-color: #0f1010; -webkit-text-stroke: 0px #932ff2}
    span.s23 {font: 14.0px Menlo; font-kerning: none; color: #2baa7c; background-color: #0f1010; -webkit-text-stroke: 0px #2baa7c}
    span.s24 {font: 14.0px Menlo; font-kerning: none; color: #bebebe; background-color: #0f1010; -webkit-text-stroke: 0px #bebebe}
    span.s25 {font-kerning: none; color: #eb4f1d; background-color: #0f1010; -webkit-text-stroke: 0px #eb4f1d}
    span.s26 {font: 14.0px 'PingFang TC'; font-kerning: none; color: #52ab5d; background-color: #0f1010; -webkit-text-stroke: 0px #52ab5d}
    span.s27 {font-kerning: none; color: #7c265d; background-color: #0f1010; -webkit-text-stroke: 0px #7c265d}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s4">html</span><span class="s5"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s1">"zh-TW"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s4">meta</span><span class="s5"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s6">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s4">meta</span><span class="s5"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s5"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s4">title</span><span class="s3">&gt;</span><span class="s1">NEOM </span><span class="s7">未來城建造者</span><span class="s1"> - </span><span class="s7">決定你的未來順序</span><span class="s3">&lt;/</span><span class="s4">title</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s8">@import</span><span class="s5"> </span><span class="s6">url</span><span class="s9">(</span><span class="s1">'https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;500;700&amp;family=Orbitron:wght@400;700&amp;display=swap'</span><span class="s9">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">:root</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--neom-gold:</span><span class="s1"> #DAA520</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--neom-sand:</span><span class="s1"> #F4A460</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--neom-silver:</span><span class="s1"> #E0E0E0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--neom-blue:</span><span class="s1"> #00BFFF</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--bg-dark:</span><span class="s1"> #121212</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--glass-bg:</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s11">255</span><span class="s9">,</span><span class="s1"> </span><span class="s11">255</span><span class="s9">,</span><span class="s1"> </span><span class="s11">255</span><span class="s9">,</span><span class="s1"> </span><span class="s11">0.1</span><span class="s6">)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">body</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s11">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s11">0</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s5"> </span><span class="s6">var(--bg-dark)</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s5"> </span><span class="s1">var(--neom-silver)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s12">'Noto Sans TC'</span><span class="s9">,</span><span class="s1"> </span><span class="s6">sans-serif</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow:</span><span class="s1"> </span><span class="s6">hidden</span><span class="s9">;</span><span class="s1"> </span><span class="s13">/* </span><span class="s14">防止捲動</span><span class="s13"> */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s6">flex</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s5"> </span><span class="s6">center</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s6">center</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s11">100vh</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">user-select:</span><span class="s1"> </span><span class="s6">none</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">/* </span><span class="s7">背景特效</span><span class="s1"> */</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">#bg-canvas</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s6">absolute</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s11">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s11">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s11">-1</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s11">100%</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s11">100%</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s6">linear-gradient(to</span><span class="s1"> </span><span class="s6">bottom</span><span class="s9">,</span><span class="s1"> #0f2027</span><span class="s9">,</span><span class="s1"> #203a43</span><span class="s9">,</span><span class="s1"> #2c5364</span><span class="s6">)</span><span class="s9">;</span><span class="s1"> </span><span class="s13">/* </span><span class="s14">沙漠夜空</span><span class="s13"> */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">/* </span><span class="s7">通用容器</span><span class="s1"> */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">.screen</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s6">absolute</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s11">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s11">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s11">100%</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s11">100%</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s6">flex</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s5"> </span><span class="s6">column</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s5"> </span><span class="s6">center</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s6">center</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s6">center</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s6">opacity</span><span class="s1"> </span><span class="s11">0.5s</span><span class="s1"> </span><span class="s6">ease</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s11">10</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">.hidden</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">opacity:</span><span class="s1"> </span><span class="s11">0</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">pointer-events:</span><span class="s5"> </span><span class="s6">none</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s11">-1</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">/* </span><span class="s7">首頁樣式</span><span class="s1"> */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">h1</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s12">'Orbitron'</span><span class="s9">,</span><span class="s1"> </span><span class="s6">sans-serif</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s11">2.5rem</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s5"> </span><span class="s1">var(--neom-blue)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-shadow:</span><span class="s1"> </span><span class="s11">0</span><span class="s1"> </span><span class="s11">0</span><span class="s1"> </span><span class="s11">10px</span><span class="s1"> </span><span class="s6">var(--neom-blue)</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s5"> </span><span class="s11">0.5rem</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">.subtitle</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s11">0.9rem</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s5"> </span><span class="s1">var(--neom-gold)</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s5"> </span><span class="s11">2rem</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">letter-spacing:</span><span class="s5"> </span><span class="s11">2px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.story-box</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s5"> </span><span class="s1">var(--glass-bg)</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">backdrop-filter:</span><span class="s5"> </span><span class="s6">blur(</span><span class="s11">5px</span><span class="s6">)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s11">20px</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s11">10px</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s5"> </span><span class="s11">1px</span><span class="s5"> </span><span class="s1">solid</span><span class="s5"> </span><span class="s1">var(--neom-silver)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s1"> </span><span class="s11">80%</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s5"> </span><span class="s11">2rem</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s11">0.95rem</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">line-height:</span><span class="s1"> </span><span class="s11">1.6</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s11">0</span><span class="s1"> </span><span class="s11">4px</span><span class="s1"> </span><span class="s11">15px</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s11">0</span><span class="s9">,</span><span class="s11">0</span><span class="s9">,</span><span class="s11">0</span><span class="s9">,</span><span class="s11">0.5</span><span class="s6">)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">select</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s11">12px</span><span class="s1"> </span><span class="s11">20px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s11">1rem</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s11">5px</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s5"> </span><span class="s11">2px</span><span class="s5"> </span><span class="s1">solid</span><span class="s5"> </span><span class="s1">var(--neom-blue)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #222</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s6">white</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s5"> </span><span class="s11">20px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s6">pointer</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s11">250px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">button</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s11">15px</span><span class="s1"> </span><span class="s11">30px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s11">1.1rem</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s6">none</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s11">50px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s6">pointer</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s6">all</span><span class="s1"> </span><span class="s11">0.3s</span><span class="s1"> </span><span class="s6">ease</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s11">10px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s12">'Orbitron'</span><span class="s9">,</span><span class="s1"> </span><span class="s6">sans-serif</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">text-transform:</span><span class="s5"> </span><span class="s6">uppercase</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-start</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s5"> </span><span class="s1">var(--neom-blue)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #000</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s11">0</span><span class="s1"> </span><span class="s11">0</span><span class="s1"> </span><span class="s11">15px</span><span class="s1"> </span><span class="s6">var(--neom-blue)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-start:hover</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s1"> </span><span class="s6">scale(</span><span class="s11">1.05</span><span class="s6">)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s6">white</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-secondary</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s6">transparent</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s5"> </span><span class="s11">1px</span><span class="s5"> </span><span class="s1">solid</span><span class="s5"> </span><span class="s1">var(--neom-silver)</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s5"> </span><span class="s1">var(--neom-silver)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-secondary:hover</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s11">255</span><span class="s9">,</span><span class="s11">255</span><span class="s9">,</span><span class="s11">255</span><span class="s9">,</span><span class="s11">0.1</span><span class="s6">)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">/* </span><span class="s7">遊戲畫面</span><span class="s1"> */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">#game-ui</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s6">absolute</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s11">20px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s11">20px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s6">white</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s12">'Orbitron'</span><span class="s9">,</span><span class="s1"> </span><span class="s6">sans-serif</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s11">1.5rem</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-shadow:</span><span class="s1"> </span><span class="s11">2px</span><span class="s1"> </span><span class="s11">2px</span><span class="s1"> </span><span class="s11">2px</span><span class="s1"> </span><span class="s6">black</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">pointer-events:</span><span class="s5"> </span><span class="s6">none</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">#game-canvas</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s11">0</span><span class="s1"> </span><span class="s11">0</span><span class="s1"> </span><span class="s11">20px</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s11">0</span><span class="s9">,</span><span class="s11">0</span><span class="s9">,</span><span class="s11">0</span><span class="s9">,</span><span class="s11">0.8</span><span class="s6">)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">/* </span><span class="s7">題目</span><span class="s1"> Modal */</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">#question-modal</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s11">0</span><span class="s9">,</span><span class="s1"> </span><span class="s11">0</span><span class="s9">,</span><span class="s1"> </span><span class="s11">0</span><span class="s9">,</span><span class="s1"> </span><span class="s11">0.9</span><span class="s6">)</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s5"> </span><span class="s11">2px</span><span class="s5"> </span><span class="s1">solid</span><span class="s5"> </span><span class="s1">var(--neom-gold)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s11">30px</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s11">15px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s1"> </span><span class="s11">90%</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s11">400px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s11">100</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s11">0</span><span class="s1"> </span><span class="s11">0</span><span class="s1"> </span><span class="s11">30px</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s11">218</span><span class="s9">,</span><span class="s1"> </span><span class="s11">165</span><span class="s9">,</span><span class="s1"> </span><span class="s11">32</span><span class="s9">,</span><span class="s1"> </span><span class="s11">0.3</span><span class="s6">)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.question-text</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s11">1.2rem</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s5"> </span><span class="s11">20px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s6">white</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.option-btn</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s6">block</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s11">100%</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s11">12px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s11">10px</span><span class="s1"> </span><span class="s11">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #333</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s6">white</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s11">1px</span><span class="s1"> </span><span class="s6">solid</span><span class="s1"> #555</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s11">5px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s6">left</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.option-btn:hover</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #444</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">border-color:</span><span class="s5"> </span><span class="s1">var(--neom-blue)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">/* </span><span class="s7">排行榜</span><span class="s1"> */</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">#leaderboard-list</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-height:</span><span class="s1"> </span><span class="s11">60vh</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow-y:</span><span class="s1"> </span><span class="s6">auto</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s11">90%</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s1"> </span><span class="s11">500px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s6">left</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.leaderboard-item</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s11">255</span><span class="s9">,</span><span class="s11">255</span><span class="s9">,</span><span class="s11">255</span><span class="s9">,</span><span class="s11">0.05</span><span class="s6">)</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s11">10px</span><span class="s1"> </span><span class="s11">15px</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s5"> </span><span class="s11">5px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s6">flex</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s5"> </span><span class="s6">space-between</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s11">5px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">.rank-high</span><span class="s5"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #ff4d4d</span><span class="s9">;</span><span class="s1"> </span><span class="s13">/* </span><span class="s14">低分反而顯眼，因為是懲罰機制</span><span class="s13"> */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s6">bold</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s4">.loader</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s11">4px</span><span class="s1"> </span><span class="s6">solid</span><span class="s1"> #f3f3f3</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">border-top:</span><span class="s5"> </span><span class="s11">4px</span><span class="s5"> </span><span class="s1">solid</span><span class="s5"> </span><span class="s1">var(--neom-blue)</span><span class="s9">;</span></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s5"> </span><span class="s11">50%</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s11">30px</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s11">30px</span><span class="s9">;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s5"> </span><span class="s1">spin</span><span class="s5"> </span><span class="s11">1s</span><span class="s5"> </span><span class="s1">linear</span><span class="s5"> </span><span class="s1">infinite</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s11">20px</span><span class="s1"> </span><span class="s6">auto</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">@keyframes</span><span class="s1"> </span><span class="s6">spin</span><span class="s1"> </span><span class="s9">{</span><span class="s1"> </span><span class="s11">0%</span><span class="s1"> </span><span class="s9">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s6">rotate(</span><span class="s11">0deg</span><span class="s6">)</span><span class="s9">;</span><span class="s1"> </span><span class="s9">}</span><span class="s1"> </span><span class="s11">100%</span><span class="s1"> </span><span class="s9">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s6">rotate(</span><span class="s11">360deg</span><span class="s6">)</span><span class="s9">;</span><span class="s1"> </span><span class="s9">}</span><span class="s1"> </span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">/* RWD */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>@</span><span class="s4">media</span><span class="s1"> (</span><span class="s4">max-width:</span><span class="s1"> 600</span><span class="s4">px</span><span class="s1">) </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>h1 { </span><span class="s2">font-size:</span><span class="s1"> </span><span class="s11">1.8rem</span><span class="s9">;</span><span class="s1"> </span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s4">.story-box</span><span class="s1"> </span><span class="s9">{</span><span class="s1"> </span><span class="s2">font-size:</span><span class="s1"> </span><span class="s11">0.85rem</span><span class="s9">;</span><span class="s1"> </span><span class="s2">padding:</span><span class="s1"> </span><span class="s11">15px</span><span class="s9">;</span><span class="s1"> </span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s4">#game-canvas</span><span class="s1"> </span><span class="s9">{</span><span class="s1"> </span><span class="s2">width:</span><span class="s1"> </span><span class="s11">100%</span><span class="s9">;</span><span class="s1"> </span><span class="s2">height:</span><span class="s1"> </span><span class="s11">100%</span><span class="s9">;</span><span class="s1"> </span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- </span><span class="s7">背景</span><span class="s1"> Canvas (</span><span class="s7">裝飾用</span><span class="s1">) --&gt;</span></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">canvas</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s6">"bg-canvas"</span><span class="s3">&gt;&lt;/</span><span class="s1">canvas</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- 1. </span><span class="s7">首頁</span><span class="s1"> --&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"screen-home"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"screen"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">h1</span><span class="s3">&gt;</span><span class="s1">NEOM </span><span class="s7">未來城建造者</span><span class="s3">&lt;/</span><span class="s4">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s6">"subtitle"</span><span class="s3">&gt;</span><span class="s7">製作者：駿佾老師</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"story-box"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>NEOM </span><span class="s7">是沙烏地阿拉伯西北部的跨境城市計畫，意為「新未來」。其中</span><span class="s1"> </span><span class="s3">&lt;</span><span class="s4">strong</span><span class="s3">&gt;</span><span class="s1">The Line</span><span class="s3">&lt;/</span><span class="s4">strong</span><span class="s3">&gt;</span><span class="s1"> </span><span class="s7">是一座零碳排放、無汽車的線性垂直城市。</span><span class="s3">&lt;</span><span class="s4">br</span><span class="s3">&gt;&lt;</span><span class="s4">br</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s15"><span class="Apple-converted-space">            </span></span><span class="s1">今天，透過你的知識與反應，來決定誰能建造出最穩固的未來！</span><span class="s16">&lt;</span><span class="s17">br</span><span class="s16">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s4">span</span><span class="s5"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color:var(--neom-gold); font-size: 0.8em;"</span><span class="s3">&gt;</span><span class="s5">(</span><span class="s18">注意：遊戲積分越低者，代表建設失敗，需優先上台報告！</span><span class="s5">)</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">select</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"player-select"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s4">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s6">""</span><span class="s1"> </span><span class="s2">disabled</span><span class="s1"> </span><span class="s2">selected</span><span class="s3">&gt;</span><span class="s7">請選擇你的名字</span><span class="s1">...</span><span class="s3">&lt;/</span><span class="s4">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s4">select</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">button</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn-start"</span><span class="s5"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"game.init()"</span><span class="s3">&gt;</span><span class="s18">開始建造</span><span class="s3">&lt;/</span><span class="s4">button</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">button</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn-secondary"</span><span class="s5"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"app.showLeaderboard()"</span><span class="s3">&gt;</span><span class="s18">查看報告順序</span><span class="s3">&lt;/</span><span class="s4">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- 2. </span><span class="s7">遊戲畫面</span><span class="s1"> --&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"screen-game"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"screen hidden"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"game-ui"</span><span class="s3">&gt;</span><span class="s18">層數</span><span class="s5">: </span><span class="s3">&lt;</span><span class="s4">span</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"score-display"</span><span class="s3">&gt;</span><span class="s5">0</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">canvas</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"game-canvas"</span><span class="s3">&gt;&lt;/</span><span class="s4">canvas</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- 3. </span><span class="s7">題目</span><span class="s1"> Modal (</span><span class="s7">覆蓋在遊戲上</span><span class="s1">) --&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"screen-question"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"screen hidden"</span><span class="s5"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"background: rgba(0,0,0,0.7);"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"question-modal"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"question-text"</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"q-text"</span><span class="s3">&gt;</span><span class="s18">題目載入中</span><span class="s5">...</span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s6">"q-options"</span><span class="s3">&gt;&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- 4. </span><span class="s7">遊戲結束</span><span class="s1">/</span><span class="s7">結算</span><span class="s1"> --&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"screen-gameover"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"screen hidden"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">h1</span><span class="s5"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color: #ff4d4d;"</span><span class="s3">&gt;</span><span class="s18">建設停止</span><span class="s3">&lt;/</span><span class="s4">h1</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">p</span><span class="s3">&gt;</span><span class="s18">你的未來城蓋了</span><span class="s5"> </span><span class="s3">&lt;</span><span class="s4">span</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"final-score"</span><span class="s5"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"font-size: 2rem; color: var(--neom-blue);"</span><span class="s3">&gt;</span><span class="s5">0</span><span class="s3">&lt;/</span><span class="s4">span</span><span class="s3">&gt;</span><span class="s5"> </span><span class="s18">層</span><span class="s3">&lt;/</span><span class="s4">p</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"upload-status"</span><span class="s3">&gt;</span><span class="s18">正在上傳數據</span><span class="s5">... </span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"loader"</span><span class="s3">&gt;&lt;/</span><span class="s4">div</span><span class="s3">&gt;&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">button</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn-secondary"</span><span class="s5"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"location.reload()"</span><span class="s3">&gt;</span><span class="s18">返回首頁</span><span class="s3">&lt;/</span><span class="s4">button</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">button</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn-secondary"</span><span class="s5"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"app.showLeaderboard()"</span><span class="s3">&gt;</span><span class="s18">查看報告順序</span><span class="s3">&lt;/</span><span class="s4">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- 5. </span><span class="s7">排行榜</span><span class="s1"> --&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"screen-leaderboard"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"screen hidden"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">h2</span><span class="s3">&gt;</span><span class="s7">報告順序決策榜</span><span class="s3">&lt;/</span><span class="s4">h2</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">p</span><span class="s5"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"font-size: 0.9rem; color: #aaa;"</span><span class="s3">&gt;</span><span class="s5">(</span><span class="s18">積分由低至高排序，低分者優先報告</span><span class="s5">)</span><span class="s3">&lt;/</span><span class="s4">p</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"leaderboard-loading"</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"loader"</span><span class="s3">&gt;&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">div</span><span class="s5"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"leaderboard-list"</span><span class="s3">&gt;&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s4">button</span><span class="s5"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn-secondary"</span><span class="s5"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"app.showHome()"</span><span class="s3">&gt;</span><span class="s18">返回首頁</span><span class="s3">&lt;/</span><span class="s4">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s4">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">// --- </span><span class="s7">設定區</span><span class="s1"> ---</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">// </span><span class="s19">⚠️</span><span class="s1"> </span><span class="s7">這裡請填入部署後的</span><span class="s1"> Web App URL (</span><span class="s7">以</span><span class="s1"> https://script.google.com </span><span class="s7">開頭</span><span class="s1">)</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s8">const</span><span class="s5"> </span><span class="s20">GAS_API_URL</span><span class="s5"> </span><span class="s9">=</span><span class="s5"> </span><span class="s1">'https://script.google.com/macros/s/AKfycbw7FM-CMc5cXNU6zOEJCsllszCR_sIAQtooTPH3fm5S/dev'</span><span class="s9">;</span><span class="s5"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p9"><span class="s21"><span class="Apple-converted-space">        </span></span><span class="s22">const</span><span class="s21"> </span><span class="s23">STUDENTS_STR</span><span class="s21"> </span><span class="s24">=</span><span class="s21"> </span><span class="s15">"</span><span class="s1">劉妍希陳品伊吳昀霏楊子瑤王家蔚蔡尚倢侯宗佑廖采渝洪沛歆黃旭均陳薏安陳心安彭星瑔李昀臻廖文匯師長試玩</span><span class="s15">”</span><span class="s24">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">// --- </span><span class="s7">資料區</span><span class="s1"> ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">const</span><span class="s1"> </span><span class="s20">QUESTIONS</span><span class="s1"> </span><span class="s9">=</span><span class="s1"> </span><span class="s9">[</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">吉達</span><span class="s1">(Jeddah)</span><span class="s7">有什麼稱號？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">紅海的新娘</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">沙漠之星</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">黃金之都</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">沙烏地阿拉伯的傳統待客之道，通常會先提供什麼？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">阿拉伯咖啡與椰棗</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">紅茶與餅乾</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">可樂與漢堡</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s1"> q</span><span class="s9">:</span><span class="s1"> </span><span class="s12">"</span><span class="s26">穆斯林每天需禮拜幾次？</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> options</span><span class="s9">:</span><span class="s1"> </span><span class="s9">[</span><span class="s12">"3</span><span class="s26">次</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> </span><span class="s12">"5</span><span class="s26">次</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> </span><span class="s12">"7</span><span class="s26">次</span><span class="s12">"</span><span class="s9">],</span><span class="s1"> a</span><span class="s9">:</span><span class="s1"> </span><span class="s25">1</span><span class="s1"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"The Line </span><span class="s7">計畫的主要能源來源是什麼？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"100% </span><span class="s7">再生能源</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">石油</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">核能</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"AI </span><span class="s7">在領導力中可以協助什麼？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">數據驅動決策</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">取代所有員工</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">增加文書工作</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s1"> q</span><span class="s9">:</span><span class="s1"> </span><span class="s12">"</span><span class="s26">沙烏地阿拉伯的首都是？</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> options</span><span class="s9">:</span><span class="s1"> </span><span class="s9">[</span><span class="s12">"</span><span class="s26">利雅德</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> </span><span class="s12">"</span><span class="s26">吉達</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> </span><span class="s12">"</span><span class="s26">麥加</span><span class="s12">"</span><span class="s9">],</span><span class="s1"> a</span><span class="s9">:</span><span class="s1"> </span><span class="s25">0</span><span class="s1"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"AI </span><span class="s7">在教育中的應用不包括下列何者？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">代替學生考試</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">個性化學習</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">自動評分</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">跨文化領導最需要具備什麼能力？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">文化智商</span><span class="s1">(CQ)"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">絕對權威</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">語言統一</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s1"> q</span><span class="s9">:</span><span class="s1"> </span><span class="s12">"</span><span class="s26">沙烏地阿拉伯是什麼政體？</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> options</span><span class="s9">:</span><span class="s1"> </span><span class="s9">[</span><span class="s12">"</span><span class="s26">王國</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> </span><span class="s12">"</span><span class="s26">酋長國</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> </span><span class="s12">"</span><span class="s26">共和國</span><span class="s12">"</span><span class="s9">],</span><span class="s1"> a</span><span class="s9">:</span><span class="s1"> </span><span class="s25">0</span><span class="s1"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">伊斯蘭教的兩大聖地是麥加與？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">麥地那</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">耶路撒冷</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">杜拜</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">阿拉伯語中的「你好」怎麼說？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"Marhaba"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"Bonjour"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"Hola"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">穆斯林結束齋戒月後的節日稱為？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">開齋節</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">宰牲節</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">聖誕節</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">沙烏地阿拉伯現在正推動哪個願景計畫？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">願景</span><span class="s1"> 2030"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">工業</span><span class="s1"> 4.0"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">沙漠綠洲計畫</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">沙烏地阿拉伯的主要經濟支柱傳統上是？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">石油</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">科技</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">農業</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">沙烏地阿拉伯位於哪個半島？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">阿拉伯半島</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">巴爾幹半島</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">伊比利半島</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"NEOM </span><span class="s7">計畫位於沙烏地的哪個方位？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">西北部</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">東南部</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">中部</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">沙國首位進入太空的女太空人是？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"Rayyanah Barnawi"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"Reema bint Bandar"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"Haifaa Al-Mansour"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s1"> q</span><span class="s9">:</span><span class="s1"> </span><span class="s12">"UBT </span><span class="s26">大學位於哪個城市？</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> options</span><span class="s9">:</span><span class="s1"> </span><span class="s9">[</span><span class="s12">"</span><span class="s26">吉達</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> </span><span class="s12">"</span><span class="s26">利雅德</span><span class="s12">"</span><span class="s9">,</span><span class="s1"> </span><span class="s12">"</span><span class="s26">達曼</span><span class="s12">"</span><span class="s9">],</span><span class="s1"> a</span><span class="s9">:</span><span class="s1"> </span><span class="s25">0</span><span class="s1"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"</span><span class="s7">與外國友人交流時，哪種態度最重要？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"</span><span class="s7">尊重與開放</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">堅持己見</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"</span><span class="s7">只說母語</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">},</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s9">{</span><span class="s5"> q</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"The Line </span><span class="s7">城市的預計長度是多少？</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> options</span><span class="s9">:</span><span class="s5"> </span><span class="s9">[</span><span class="s1">"170</span><span class="s7">公里</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"50</span><span class="s7">公里</span><span class="s1">"</span><span class="s9">,</span><span class="s5"> </span><span class="s1">"500</span><span class="s7">公里</span><span class="s1">"</span><span class="s9">],</span><span class="s5"> a</span><span class="s9">:</span><span class="s5"> </span><span class="s25">0</span><span class="s5"> </span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">];</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">// --- </span><span class="s7">應用程式邏輯</span><span class="s1"> ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">const</span><span class="s1"> app </span><span class="s9">=</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>playerName</span><span class="s9">:</span><span class="s1"> </span><span class="s12">""</span><span class="s9">,</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>init</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">parseStudents</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">setupEvents</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>parseStudents</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> names </span><span class="s9">=</span><span class="s1"> </span><span class="s20">STUDENTS_STR</span><span class="s9">.</span><span class="s1">match</span><span class="s9">(</span><span class="s27">/.{1,3}/</span><span class="s8">g</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> select </span><span class="s9">=</span><span class="s1"> document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'player-select'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>names</span><span class="s9">.</span><span class="s1">forEach</span><span class="s9">(</span><span class="s1">name </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">const</span><span class="s1"> opt </span><span class="s9">=</span><span class="s1"> document</span><span class="s9">.</span><span class="s1">createElement</span><span class="s9">(</span><span class="s12">'option'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>opt</span><span class="s9">.</span><span class="s1">value </span><span class="s9">=</span><span class="s1"> name</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>opt</span><span class="s9">.</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> name</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>select</span><span class="s9">.</span><span class="s1">appendChild</span><span class="s9">(</span><span class="s1">opt</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setupEvents</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Resize handling</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>window</span><span class="s9">.</span><span class="s1">addEventListener</span><span class="s9">(</span><span class="s12">'resize'</span><span class="s9">,</span><span class="s1"> </span><span class="s9">()</span><span class="s1"> </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">if</span><span class="s9">(</span><span class="s1">game</span><span class="s9">.</span><span class="s1">isRunning</span><span class="s9">)</span><span class="s1"> game</span><span class="s9">.</span><span class="s1">resize</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>showScreen</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">(</span><span class="s1">id</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s9">.</span><span class="s1">querySelectorAll</span><span class="s9">(</span><span class="s12">'.screen'</span><span class="s9">).</span><span class="s1">forEach</span><span class="s9">(</span><span class="s1">s </span><span class="s9">=&gt;</span><span class="s1"> s</span><span class="s9">.</span><span class="s1">classList</span><span class="s9">.</span><span class="s1">add</span><span class="s9">(</span><span class="s12">'hidden'</span><span class="s9">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s1">id</span><span class="s9">).</span><span class="s1">classList</span><span class="s9">.</span><span class="s1">remove</span><span class="s9">(</span><span class="s12">'hidden'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>showHome</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">showScreen</span><span class="s9">(</span><span class="s12">'screen-home'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>showLeaderboard</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">showScreen</span><span class="s9">(</span><span class="s12">'screen-leaderboard'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">fetchLeaderboard</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>uploadScore</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">(</span><span class="s1">score</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s9">(!</span><span class="s20">GAS_API_URL</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'upload-status'</span><span class="s9">).</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"</span><span class="s26">未設定</span><span class="s12"> API URL</span><span class="s26">，無法上傳。</span><span class="s12">"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">return</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> data </span><span class="s9">=</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>name</span><span class="s9">:</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">playerName</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>score</span><span class="s9">:</span><span class="s1"> score</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// </span><span class="s7">使用</span><span class="s1"> fetch </span><span class="s7">發送</span><span class="s1"> POST </span><span class="s7">請求</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>fetch</span><span class="s9">(</span><span class="s20">GAS_API_URL</span><span class="s1"> </span><span class="s9">+</span><span class="s1"> </span><span class="s12">"?action=save"</span><span class="s9">,</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>method</span><span class="s9">:</span><span class="s1"> </span><span class="s12">"POST"</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>body</span><span class="s9">:</span><span class="s1"> </span><span class="s20">JSON</span><span class="s9">.</span><span class="s1">stringify</span><span class="s9">(</span><span class="s1">data</span><span class="s9">),</span></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">                    </span>headers</span><span class="s9">:</span><span class="s5"> </span><span class="s9">{</span><span class="s5"> </span><span class="s1">"Content-Type"</span><span class="s9">:</span><span class="s5"> </span><span class="s1">"text/plain;charset=utf-8"</span><span class="s5"> </span><span class="s9">}</span><span class="s5"> </span><span class="s13">// </span><span class="s14">避免</span><span class="s13"> CORS </span><span class="s14">預檢</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">.</span><span class="s1">then</span><span class="s9">(</span><span class="s1">res </span><span class="s9">=&gt;</span><span class="s1"> res</span><span class="s9">.</span><span class="s1">json</span><span class="s9">())</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">.</span><span class="s1">then</span><span class="s9">(</span><span class="s1">json </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">if</span><span class="s9">(</span><span class="s1">json</span><span class="s9">.</span><span class="s1">status </span><span class="s9">===</span><span class="s1"> </span><span class="s12">"skipped"</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'upload-status'</span><span class="s9">).</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"</span><span class="s26">您已上傳過成績，本次僅作練習紀錄。</span><span class="s12">"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s9">}</span><span class="s1"> </span><span class="s8">else</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'upload-status'</span><span class="s9">).</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"</span><span class="s26">數據上傳成功！</span><span class="s12">"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">.</span><span class="s8">catch</span><span class="s9">(</span><span class="s1">err </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>console</span><span class="s9">.</span><span class="s1">error</span><span class="s9">(</span><span class="s1">err</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'upload-status'</span><span class="s9">).</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"</span><span class="s26">上傳失敗，請檢查網路或</span><span class="s12"> URL</span><span class="s26">。</span><span class="s12">"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>fetchLeaderboard</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> list </span><span class="s9">=</span><span class="s1"> document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'leaderboard-list'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> loading </span><span class="s9">=</span><span class="s1"> document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'leaderboard-loading'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>list</span><span class="s9">.</span><span class="s1">innerHTML </span><span class="s9">=</span><span class="s1"> </span><span class="s12">""</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loading</span><span class="s9">.</span><span class="s1">style</span><span class="s9">.</span><span class="s1">display </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"block"</span><span class="s9">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s9">(!</span><span class="s20">GAS_API_URL</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>loading</span><span class="s9">.</span><span class="s1">style</span><span class="s9">.</span><span class="s1">display </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"none"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>list</span><span class="s9">.</span><span class="s1">innerHTML </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"&lt;p&gt;</span><span class="s26">未設定</span><span class="s12"> API URL&lt;/p&gt;"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">return</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s5"><span class="Apple-converted-space">                </span>fetch</span><span class="s9">(</span><span class="s20">GAS_API_URL</span><span class="s5"> </span><span class="s9">+</span><span class="s5"> </span><span class="s1">"?action=getLeaderboard"</span><span class="s9">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">.</span><span class="s1">then</span><span class="s9">(</span><span class="s1">res </span><span class="s9">=&gt;</span><span class="s1"> res</span><span class="s9">.</span><span class="s1">json</span><span class="s9">())</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">.</span><span class="s1">then</span><span class="s9">(</span><span class="s1">json </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>loading</span><span class="s9">.</span><span class="s1">style</span><span class="s9">.</span><span class="s1">display </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"none"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">if</span><span class="s9">(</span><span class="s1">json</span><span class="s9">.</span><span class="s1">status </span><span class="s9">===</span><span class="s1"> </span><span class="s12">"success"</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">if</span><span class="s9">(</span><span class="s1">json</span><span class="s9">.</span><span class="s1">data</span><span class="s9">.</span><span class="s1">length </span><span class="s9">===</span><span class="s1"> </span><span class="s25">0</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>list</span><span class="s9">.</span><span class="s1">innerHTML </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"&lt;p&gt;</span><span class="s26">目前尚無紀錄</span><span class="s12">&lt;/p&gt;"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s8">return</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">let</span><span class="s1"> html </span><span class="s9">=</span><span class="s1"> </span><span class="s12">""</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>json</span><span class="s9">.</span><span class="s1">data</span><span class="s9">.</span><span class="s1">forEach</span><span class="s9">((</span><span class="s1">item</span><span class="s9">,</span><span class="s1"> index</span><span class="s9">)</span><span class="s1"> </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                            </span></span><span class="s1">// </span><span class="s7">低分者排前面</span><span class="s1"> (Index 0 is lowest score)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s8">const</span><span class="s1"> isFirst </span><span class="s9">=</span><span class="s1"> index </span><span class="s9">===</span><span class="s1"> </span><span class="s25">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>html </span><span class="s9">+=</span><span class="s1"> </span><span class="s12">`</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div class="leaderboard-item </span><span class="s9">${</span><span class="s5">isFirst </span><span class="s9">?</span><span class="s5"> </span><span class="s1">'rank-high'</span><span class="s5"> </span><span class="s9">:</span><span class="s5"> </span><span class="s1">''</span><span class="s9">}</span><span class="s1">"&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;#</span><span class="s9">${</span><span class="s5">index </span><span class="s9">+</span><span class="s5"> </span><span class="s25">1</span><span class="s9">}</span><span class="s1"> </span><span class="s9">${</span><span class="s5">item</span><span class="s9">.</span><span class="s5">name</span><span class="s9">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;</span><span class="s9">${</span><span class="s5">item</span><span class="s9">.</span><span class="s5">score</span><span class="s9">}</span><span class="s1"> </span><span class="s7">層</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>`</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s9">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>list</span><span class="s9">.</span><span class="s1">innerHTML </span><span class="s9">=</span><span class="s1"> html</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s9">}</span><span class="s1"> </span><span class="s8">else</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>list</span><span class="s9">.</span><span class="s1">innerHTML </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"&lt;p&gt;</span><span class="s26">讀取錯誤</span><span class="s12">&lt;/p&gt;"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">.</span><span class="s8">catch</span><span class="s9">(</span><span class="s1">err </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>loading</span><span class="s9">.</span><span class="s1">style</span><span class="s9">.</span><span class="s1">display </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"none"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>list</span><span class="s9">.</span><span class="s1">innerHTML </span><span class="s9">=</span><span class="s1"> </span><span class="s12">"&lt;p&gt;</span><span class="s26">讀取失敗，請檢查</span><span class="s12"> URL&lt;/p&gt;"</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">// --- </span><span class="s7">遊戲邏輯</span><span class="s1"> (The Line Builder) ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">const</span><span class="s1"> game </span><span class="s9">=</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>canvas</span><span class="s9">:</span><span class="s1"> document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'game-canvas'</span><span class="s9">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s9">:</span><span class="s1"> </span><span class="s8">null</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>isRunning</span><span class="s9">:</span><span class="s1"> </span><span class="s8">false</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>score</span><span class="s9">:</span><span class="s1"> </span><span class="s25">0</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>blocks</span><span class="s9">:</span><span class="s1"> </span><span class="s9">[],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>currentBlock</span><span class="s9">:</span><span class="s1"> </span><span class="s8">null</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>baseBlock</span><span class="s9">:</span><span class="s1"> </span><span class="s8">null</span><span class="s9">,</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">            </span>direction</span><span class="s9">:</span><span class="s5"> </span><span class="s25">1</span><span class="s9">,</span><span class="s5"> </span><span class="s1">// 1 for right, -1 for left</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>speed</span><span class="s9">:</span><span class="s1"> </span><span class="s25">2</span><span class="s9">,</span><span class="s1"> </span><span class="s13">// Base speed</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>blockHeight</span><span class="s9">:</span><span class="s1"> </span><span class="s25">30</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>initialWidth</span><span class="s9">:</span><span class="s1"> </span><span class="s25">200</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>cameraY</span><span class="s9">:</span><span class="s1"> </span><span class="s25">0</span><span class="s9">,</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">            </span></span><span class="s1">// Question State</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>isAnswering</span><span class="s9">:</span><span class="s1"> </span><span class="s8">false</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>nextBlockCondition</span><span class="s9">:</span><span class="s1"> </span><span class="s12">'normal'</span><span class="s9">,</span><span class="s1"> </span><span class="s13">// 'normal' or 'unstable'</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>init</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> nameSelect </span><span class="s9">=</span><span class="s1"> document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'player-select'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s9">(!</span><span class="s1">nameSelect</span><span class="s9">.</span><span class="s1">value</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>alert</span><span class="s9">(</span><span class="s12">"</span><span class="s26">請先選擇名字！</span><span class="s12">"</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">return</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>app</span><span class="s9">.</span><span class="s1">playerName </span><span class="s9">=</span><span class="s1"> nameSelect</span><span class="s9">.</span><span class="s1">value</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>app</span><span class="s9">.</span><span class="s1">showScreen</span><span class="s9">(</span><span class="s12">'screen-game'</span><span class="s9">);</span><span class="s1"> </span><span class="s13">// </span><span class="s14">這裡確保遊戲畫面顯示</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">getContext</span><span class="s9">(</span><span class="s12">'2d'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">resize</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">reset</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">askQuestion</span><span class="s9">();</span><span class="s1"> </span><span class="s13">// Start with a question</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>resize</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">width </span><span class="s9">=</span><span class="s1"> window</span><span class="s9">.</span><span class="s1">innerWidth</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">height </span><span class="s9">=</span><span class="s1"> window</span><span class="s9">.</span><span class="s1">innerHeight</span><span class="s9">;</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Center the base</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">.</span><span class="s1">length </span><span class="s9">&gt;</span><span class="s1"> </span><span class="s25">0</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">[</span><span class="s25">0</span><span class="s9">].</span><span class="s1">x </span><span class="s9">=</span><span class="s1"> </span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">width </span><span class="s9">-</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">[</span><span class="s25">0</span><span class="s9">].</span><span class="s1">width</span><span class="s9">)</span><span class="s1"> </span><span class="s9">/</span><span class="s1"> </span><span class="s25">2</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>reset</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">score </span><span class="s9">=</span><span class="s1"> </span><span class="s25">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks </span><span class="s9">=</span><span class="s1"> </span><span class="s9">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">speed </span><span class="s9">=</span><span class="s1"> </span><span class="s25">3</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">cameraY </span><span class="s9">=</span><span class="s1"> </span><span class="s25">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'score-display'</span><span class="s9">).</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">score</span><span class="s9">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Create Base Block</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">baseBlock </span><span class="s9">=</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>x</span><span class="s9">:</span><span class="s1"> </span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">width </span><span class="s9">-</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">initialWidth</span><span class="s9">)</span><span class="s1"> </span><span class="s9">/</span><span class="s1"> </span><span class="s25">2</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>y</span><span class="s9">:</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">height </span><span class="s9">-</span><span class="s1"> </span><span class="s25">50</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>width</span><span class="s9">:</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">initialWidth</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>height</span><span class="s9">:</span><span class="s1"> </span><span class="s25">50</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>color</span><span class="s9">:</span><span class="s1"> </span><span class="s12">'#DAA520'</span><span class="s1"> </span><span class="s13">// Base Gold</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">.</span><span class="s1">push</span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">baseBlock</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>askQuestion</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">isAnswering </span><span class="s9">=</span><span class="s1"> </span><span class="s8">true</span><span class="s9">;</span></p>
<p class="p10"><span class="s21"><span class="Apple-converted-space">                </span></span><span class="s15">// </span><span class="s1">在顯示題目時，我們希望遊戲背景仍然可見，</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// </span><span class="s7">但因為</span><span class="s1"> app.showScreen </span><span class="s7">是互斥的，這裡直接操作</span><span class="s1"> class</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'screen-question'</span><span class="s9">).</span><span class="s1">classList</span><span class="s9">.</span><span class="s1">remove</span><span class="s9">(</span><span class="s12">'hidden'</span><span class="s9">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Random Question</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> qData </span><span class="s9">=</span><span class="s1"> </span><span class="s20">QUESTIONS</span><span class="s9">[</span><span class="s20">Math</span><span class="s9">.</span><span class="s1">floor</span><span class="s9">(</span><span class="s20">Math</span><span class="s9">.</span><span class="s1">random</span><span class="s9">()</span><span class="s1"> </span><span class="s9">*</span><span class="s1"> </span><span class="s20">QUESTIONS</span><span class="s9">.</span><span class="s1">length</span><span class="s9">)];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'q-text'</span><span class="s9">).</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> </span><span class="s12">`[</span><span class="s26">問答</span><span class="s12">] </span><span class="s9">${</span><span class="s1">qData</span><span class="s9">.</span><span class="s1">q</span><span class="s9">}</span><span class="s12">`</span><span class="s9">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> optionsDiv </span><span class="s9">=</span><span class="s1"> document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'q-options'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>optionsDiv</span><span class="s9">.</span><span class="s1">innerHTML </span><span class="s9">=</span><span class="s1"> </span><span class="s12">""</span><span class="s9">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>qData</span><span class="s9">.</span><span class="s1">options</span><span class="s9">.</span><span class="s1">forEach</span><span class="s9">((</span><span class="s1">opt</span><span class="s9">,</span><span class="s1"> idx</span><span class="s9">)</span><span class="s1"> </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">const</span><span class="s1"> btn </span><span class="s9">=</span><span class="s1"> document</span><span class="s9">.</span><span class="s1">createElement</span><span class="s9">(</span><span class="s12">'button'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>btn</span><span class="s9">.</span><span class="s1">className </span><span class="s9">=</span><span class="s1"> </span><span class="s12">'option-btn'</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>btn</span><span class="s9">.</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> opt</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>btn</span><span class="s9">.</span><span class="s1">onclick </span><span class="s9">=</span><span class="s1"> </span><span class="s9">()</span><span class="s1"> </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">handleAnswer</span><span class="s9">(</span><span class="s1">idx </span><span class="s9">===</span><span class="s1"> qData</span><span class="s9">.</span><span class="s1">a</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s9">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>optionsDiv</span><span class="s9">.</span><span class="s1">appendChild</span><span class="s9">(</span><span class="s1">btn</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>handleAnswer</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">(</span><span class="s1">isCorrect</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s13">// </span><span class="s14">隱藏題目</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'screen-question'</span><span class="s9">).</span><span class="s1">classList</span><span class="s9">.</span><span class="s1">add</span><span class="s9">(</span><span class="s12">'hidden'</span><span class="s9">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// [BUG FIX] </span><span class="s7">確保遊戲畫面是顯示的</span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// </span><span class="s7">這裡使用</span><span class="s1"> app.showScreen </span><span class="s7">確保其他畫面（如首頁）被隱藏，且</span><span class="s1"> game </span><span class="s7">被顯示</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>app</span><span class="s9">.</span><span class="s1">showScreen</span><span class="s9">(</span><span class="s12">'screen-game'</span><span class="s9">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">isAnswering </span><span class="s9">=</span><span class="s1"> </span><span class="s8">false</span><span class="s9">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s1">isCorrect</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">nextBlockCondition </span><span class="s9">=</span><span class="s1"> </span><span class="s12">'normal'</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span><span class="s1"> </span><span class="s8">else</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">nextBlockCondition </span><span class="s9">=</span><span class="s1"> </span><span class="s12">'unstable'</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">spawnBlock</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(!</span><span class="s8">this</span><span class="s9">.</span><span class="s1">isRunning</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">isRunning </span><span class="s9">=</span><span class="s1"> </span><span class="s8">true</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">loop</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>spawnBlock</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> prevBlock </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">[</span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">.</span><span class="s1">length </span><span class="s9">-</span><span class="s1"> </span><span class="s25">1</span><span class="s9">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">let</span><span class="s1"> newWidth </span><span class="s9">=</span><span class="s1"> prevBlock</span><span class="s9">.</span><span class="s1">width</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">let</span><span class="s1"> newSpeed </span><span class="s9">=</span><span class="s1"> </span><span class="s25">3</span><span class="s1"> </span><span class="s9">+</span><span class="s1"> </span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">score </span><span class="s9">*</span><span class="s1"> </span><span class="s25">0.5</span><span class="s9">);</span><span class="s1"> </span><span class="s13">// Speed increases with score</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Penalty for wrong answer</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">nextBlockCondition </span><span class="s9">===</span><span class="s1"> </span><span class="s12">'unstable'</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>newWidth </span><span class="s9">=</span><span class="s1"> newWidth </span><span class="s9">*</span><span class="s1"> </span><span class="s25">0.7</span><span class="s9">;</span><span class="s1"> </span><span class="s13">// Shrink</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>newSpeed </span><span class="s9">+=</span><span class="s1"> </span><span class="s25">4</span><span class="s9">;</span><span class="s1"> </span><span class="s13">// Faster</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock </span><span class="s9">=</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>x</span><span class="s9">:</span><span class="s1"> </span><span class="s25">0</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>y</span><span class="s9">:</span><span class="s1"> prevBlock</span><span class="s9">.</span><span class="s1">y </span><span class="s9">-</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">blockHeight</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>width</span><span class="s9">:</span><span class="s1"> newWidth</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>height</span><span class="s9">:</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">blockHeight</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>color</span><span class="s9">:</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">nextBlockCondition </span><span class="s9">===</span><span class="s1"> </span><span class="s12">'normal'</span><span class="s1"> </span><span class="s9">?</span><span class="s1"> </span><span class="s12">'#00BFFF'</span><span class="s1"> </span><span class="s9">:</span><span class="s1"> </span><span class="s12">'#FF4500'</span><span class="s9">,</span><span class="s1"> </span><span class="s13">// Blue or Red</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>velocity</span><span class="s9">:</span><span class="s1"> newSpeed</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Randomize start side</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s20">Math</span><span class="s9">.</span><span class="s1">random</span><span class="s9">()</span><span class="s1"> </span><span class="s9">&gt;</span><span class="s1"> </span><span class="s25">0.5</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">x </span><span class="s9">=</span><span class="s1"> </span><span class="s9">-</span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">width</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">direction </span><span class="s9">=</span><span class="s1"> </span><span class="s25">1</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span><span class="s1"> </span><span class="s8">else</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">x </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">width</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">direction </span><span class="s9">=</span><span class="s1"> </span><span class="s9">-</span><span class="s25">1</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>placeBlock</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(!</span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock </span><span class="s9">||</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">isAnswering</span><span class="s9">)</span><span class="s1"> </span><span class="s8">return</span><span class="s9">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> prevBlock </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">[</span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">.</span><span class="s1">length </span><span class="s9">-</span><span class="s1"> </span><span class="s25">1</span><span class="s9">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> block </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Calculate overlap</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> dist </span><span class="s9">=</span><span class="s1"> block</span><span class="s9">.</span><span class="s1">x </span><span class="s9">-</span><span class="s1"> prevBlock</span><span class="s9">.</span><span class="s1">x</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> absDist </span><span class="s9">=</span><span class="s1"> </span><span class="s20">Math</span><span class="s9">.</span><span class="s1">abs</span><span class="s9">(</span><span class="s1">dist</span><span class="s9">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Check Game Over (Missed completely)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s1">absDist </span><span class="s9">&gt;=</span><span class="s1"> prevBlock</span><span class="s9">.</span><span class="s1">width</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">gameOver</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">return</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">let</span><span class="s1"> placedWidth </span><span class="s9">=</span><span class="s1"> prevBlock</span><span class="s9">.</span><span class="s1">width </span><span class="s9">-</span><span class="s1"> absDist</span><span class="s9">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Just use the math intersection for clean data</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> overlapX </span><span class="s9">=</span><span class="s1"> </span><span class="s20">Math</span><span class="s9">.</span><span class="s1">max</span><span class="s9">(</span><span class="s1">block</span><span class="s9">.</span><span class="s1">x</span><span class="s9">,</span><span class="s1"> prevBlock</span><span class="s9">.</span><span class="s1">x</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">const</span><span class="s1"> overlapW </span><span class="s9">=</span><span class="s1"> </span><span class="s20">Math</span><span class="s9">.</span><span class="s1">min</span><span class="s9">(</span><span class="s1">block</span><span class="s9">.</span><span class="s1">x </span><span class="s9">+</span><span class="s1"> block</span><span class="s9">.</span><span class="s1">width</span><span class="s9">,</span><span class="s1"> prevBlock</span><span class="s9">.</span><span class="s1">x </span><span class="s9">+</span><span class="s1"> prevBlock</span><span class="s9">.</span><span class="s1">width</span><span class="s9">)</span><span class="s1"> </span><span class="s9">-</span><span class="s1"> overlapX</span><span class="s9">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">x </span><span class="s9">=</span><span class="s1"> overlapX</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">width </span><span class="s9">=</span><span class="s1"> overlapW</span><span class="s9">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">.</span><span class="s1">push</span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">score</span><span class="s9">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'score-display'</span><span class="s9">).</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">score</span><span class="s9">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Move Camera if stack gets high</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">.</span><span class="s1">length </span><span class="s9">&gt;</span><span class="s1"> </span><span class="s25">5</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">cameraY </span><span class="s9">+=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">blockHeight</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s13">// Next round</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock </span><span class="s9">=</span><span class="s1"> </span><span class="s8">null</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">askQuestion</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>update</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(!</span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock </span><span class="s9">||</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">isAnswering</span><span class="s9">)</span><span class="s1"> </span><span class="s8">return</span><span class="s9">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">x </span><span class="s9">+=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">velocity </span><span class="s9">*</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">direction</span><span class="s9">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Bounce off walls</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">x </span><span class="s9">+</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">width </span><span class="s9">&gt;</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">width</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">direction </span><span class="s9">=</span><span class="s1"> </span><span class="s9">-</span><span class="s25">1</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span><span class="s1"> </span><span class="s8">else</span><span class="s1"> </span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">.</span><span class="s1">x </span><span class="s9">&lt;</span><span class="s1"> </span><span class="s25">0</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">direction </span><span class="s9">=</span><span class="s1"> </span><span class="s25">1</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>draw</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s13">// Clear</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">clearRect</span><span class="s9">(</span><span class="s25">0</span><span class="s9">,</span><span class="s1"> </span><span class="s25">0</span><span class="s9">,</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">width</span><span class="s9">,</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">height</span><span class="s9">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">save</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s13">// Apply Camera</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">translate</span><span class="s9">(</span><span class="s25">0</span><span class="s9">,</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">cameraY</span><span class="s9">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s13">// Draw Blocks</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">blocks</span><span class="s9">.</span><span class="s1">forEach</span><span class="s9">(</span><span class="s1">b </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">fillStyle </span><span class="s9">=</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">color</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">fillRect</span><span class="s9">(</span><span class="s1">b</span><span class="s9">.</span><span class="s1">x</span><span class="s9">,</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">y</span><span class="s9">,</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">width</span><span class="s9">,</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">height</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s13">// NEOM Glow effect</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">shadowBlur </span><span class="s9">=</span><span class="s1"> </span><span class="s25">10</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">shadowColor </span><span class="s9">=</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">color</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">strokeStyle </span><span class="s9">=</span><span class="s1"> </span><span class="s12">'#fff'</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">lineWidth </span><span class="s9">=</span><span class="s1"> </span><span class="s25">1</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">strokeRect</span><span class="s9">(</span><span class="s1">b</span><span class="s9">.</span><span class="s1">x</span><span class="s9">,</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">y</span><span class="s9">,</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">width</span><span class="s9">,</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">height</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">shadowBlur </span><span class="s9">=</span><span class="s1"> </span><span class="s25">0</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">                </span></span><span class="s1">// Draw Current Moving Block</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">const</span><span class="s1"> b </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">fillStyle </span><span class="s9">=</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">color</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">fillRect</span><span class="s9">(</span><span class="s1">b</span><span class="s9">.</span><span class="s1">x</span><span class="s9">,</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">y</span><span class="s9">,</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">width</span><span class="s9">,</span><span class="s1"> b</span><span class="s9">.</span><span class="s1">height</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">restore</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>loop</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(!</span><span class="s1">game</span><span class="s9">.</span><span class="s1">isRunning</span><span class="s9">)</span><span class="s1"> </span><span class="s8">return</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>game</span><span class="s9">.</span><span class="s1">update</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>game</span><span class="s9">.</span><span class="s1">draw</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>requestAnimationFrame</span><span class="s9">(</span><span class="s1">game</span><span class="s9">.</span><span class="s1">loop</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>gameOver</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">isRunning </span><span class="s9">=</span><span class="s1"> </span><span class="s8">false</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>app</span><span class="s9">.</span><span class="s1">showScreen</span><span class="s9">(</span><span class="s12">'screen-gameover'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'final-score'</span><span class="s9">).</span><span class="s1">innerText </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">score</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>app</span><span class="s9">.</span><span class="s1">uploadScore</span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">score</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">// --- </span><span class="s7">輸入控制</span><span class="s1"> ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s9">.</span><span class="s1">body</span><span class="s9">.</span><span class="s1">addEventListener</span><span class="s9">(</span><span class="s12">'keydown'</span><span class="s9">,</span><span class="s1"> </span><span class="s9">(</span><span class="s1">e</span><span class="s9">)</span><span class="s1"> </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s1">e</span><span class="s9">.</span><span class="s1">code </span><span class="s9">===</span><span class="s1"> </span><span class="s12">'Space'</span><span class="s1"> </span><span class="s9">&amp;&amp;</span><span class="s1"> app</span><span class="s9">.</span><span class="s1">playerName </span><span class="s9">&amp;&amp;</span><span class="s1"> </span><span class="s9">!</span><span class="s1">game</span><span class="s9">.</span><span class="s1">isAnswering </span><span class="s9">&amp;&amp;</span><span class="s1"> game</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>game</span><span class="s9">.</span><span class="s1">placeBlock</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'game-canvas'</span><span class="s9">).</span><span class="s1">addEventListener</span><span class="s9">(</span><span class="s12">'mousedown'</span><span class="s9">,</span><span class="s1"> </span><span class="s9">(</span><span class="s1">e</span><span class="s9">)</span><span class="s1"> </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s1">app</span><span class="s9">.</span><span class="s1">playerName </span><span class="s9">&amp;&amp;</span><span class="s1"> </span><span class="s9">!</span><span class="s1">game</span><span class="s9">.</span><span class="s1">isAnswering </span><span class="s9">&amp;&amp;</span><span class="s1"> game</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>game</span><span class="s9">.</span><span class="s1">placeBlock</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">});</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">// Touch support</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'game-canvas'</span><span class="s9">).</span><span class="s1">addEventListener</span><span class="s9">(</span><span class="s12">'touchstart'</span><span class="s9">,</span><span class="s1"> </span><span class="s9">(</span><span class="s1">e</span><span class="s9">)</span><span class="s1"> </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span>e</span><span class="s9">.</span><span class="s1">preventDefault</span><span class="s9">();</span><span class="s1"> </span><span class="s13">// prevent scroll</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">             </span></span><span class="s8">if</span><span class="s1"> </span><span class="s9">(</span><span class="s1">app</span><span class="s9">.</span><span class="s1">playerName </span><span class="s9">&amp;&amp;</span><span class="s1"> </span><span class="s9">!</span><span class="s1">game</span><span class="s9">.</span><span class="s1">isAnswering </span><span class="s9">&amp;&amp;</span><span class="s1"> game</span><span class="s9">.</span><span class="s1">currentBlock</span><span class="s9">)</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>game</span><span class="s9">.</span><span class="s1">placeBlock</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">},</span><span class="s1"> </span><span class="s9">{</span><span class="s1">passive</span><span class="s9">:</span><span class="s1"> </span><span class="s8">false</span><span class="s9">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s5"><span class="Apple-converted-space">        </span></span><span class="s1">// --- </span><span class="s7">背景動畫</span><span class="s1"> (Starfield/Dust) ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">const</span><span class="s1"> bgEffect </span><span class="s9">=</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>canvas</span><span class="s9">:</span><span class="s1"> document</span><span class="s9">.</span><span class="s1">getElementById</span><span class="s9">(</span><span class="s12">'bg-canvas'</span><span class="s9">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s9">:</span><span class="s1"> </span><span class="s8">null</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>particles</span><span class="s9">:</span><span class="s1"> </span><span class="s9">[],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>init</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">getContext</span><span class="s9">(</span><span class="s12">'2d'</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">resize</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>window</span><span class="s9">.</span><span class="s1">addEventListener</span><span class="s9">(</span><span class="s12">'resize'</span><span class="s9">,</span><span class="s1"> </span><span class="s9">()</span><span class="s1"> </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">resize</span><span class="s9">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">for</span><span class="s9">(</span><span class="s8">let</span><span class="s1"> i</span><span class="s9">=</span><span class="s25">0</span><span class="s9">;</span><span class="s1"> i</span><span class="s9">&lt;</span><span class="s25">100</span><span class="s9">;</span><span class="s1"> i</span><span class="s9">++)</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">particles</span><span class="s9">.</span><span class="s1">push</span><span class="s9">(</span><span class="s8">this</span><span class="s9">.</span><span class="s1">createParticle</span><span class="s9">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">loop</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>resize</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">width </span><span class="s9">=</span><span class="s1"> window</span><span class="s9">.</span><span class="s1">innerWidth</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">height </span><span class="s9">=</span><span class="s1"> window</span><span class="s9">.</span><span class="s1">innerHeight</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>createParticle</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">return</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>x</span><span class="s9">:</span><span class="s1"> </span><span class="s20">Math</span><span class="s9">.</span><span class="s1">random</span><span class="s9">()</span><span class="s1"> </span><span class="s9">*</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">width</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>y</span><span class="s9">:</span><span class="s1"> </span><span class="s20">Math</span><span class="s9">.</span><span class="s1">random</span><span class="s9">()</span><span class="s1"> </span><span class="s9">*</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">height</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>size</span><span class="s9">:</span><span class="s1"> </span><span class="s20">Math</span><span class="s9">.</span><span class="s1">random</span><span class="s9">()</span><span class="s1"> </span><span class="s9">*</span><span class="s1"> </span><span class="s25">2</span><span class="s9">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>speedY</span><span class="s9">:</span><span class="s1"> </span><span class="s20">Math</span><span class="s9">.</span><span class="s1">random</span><span class="s9">()</span><span class="s1"> </span><span class="s9">*</span><span class="s1"> </span><span class="s25">0.5</span><span class="s1"> </span><span class="s9">+</span><span class="s1"> </span><span class="s25">0.1</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>loop</span><span class="s9">:</span><span class="s1"> </span><span class="s8">function</span><span class="s9">()</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">clearRect</span><span class="s9">(</span><span class="s25">0</span><span class="s9">,</span><span class="s25">0</span><span class="s9">,</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">width</span><span class="s9">,</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">height</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">fillStyle </span><span class="s9">=</span><span class="s1"> </span><span class="s12">'white'</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">particles</span><span class="s9">.</span><span class="s1">forEach</span><span class="s9">(</span><span class="s1">p </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s9">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>p</span><span class="s9">.</span><span class="s1">y </span><span class="s9">-=</span><span class="s1"> p</span><span class="s9">.</span><span class="s1">speedY</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">if</span><span class="s9">(</span><span class="s1">p</span><span class="s9">.</span><span class="s1">y </span><span class="s9">&lt;</span><span class="s1"> </span><span class="s25">0</span><span class="s9">)</span><span class="s1"> p</span><span class="s9">.</span><span class="s1">y </span><span class="s9">=</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">canvas</span><span class="s9">.</span><span class="s1">height</span><span class="s9">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">beginPath</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">arc</span><span class="s9">(</span><span class="s1">p</span><span class="s9">.</span><span class="s1">x</span><span class="s9">,</span><span class="s1"> p</span><span class="s9">.</span><span class="s1">y</span><span class="s9">,</span><span class="s1"> p</span><span class="s9">.</span><span class="s1">size</span><span class="s9">,</span><span class="s1"> </span><span class="s25">0</span><span class="s9">,</span><span class="s1"> </span><span class="s20">Math</span><span class="s9">.</span><span class="s20">PI</span><span class="s9">*</span><span class="s25">2</span><span class="s9">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">this</span><span class="s9">.</span><span class="s1">ctx</span><span class="s9">.</span><span class="s1">fill</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s9">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>requestAnimationFrame</span><span class="s9">(()</span><span class="s1"> </span><span class="s9">=&gt;</span><span class="s1"> </span><span class="s8">this</span><span class="s9">.</span><span class="s1">loop</span><span class="s9">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s9">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">// </span><span class="s14">初始化</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>app</span><span class="s9">.</span><span class="s1">init</span><span class="s9">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>bgEffect</span><span class="s9">.</span><span class="s1">init</span><span class="s9">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s5"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
